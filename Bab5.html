
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>K-MEANS CLUSTERING &#8212; Pendat</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Bab5';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="UTS" href="UTS.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Pendat - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Pendat - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Buku Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Bab1.html">BAB 1 - DATA MINING</a></li>


<li class="toctree-l1"><a class="reference internal" href="Bab2.html">BAB 2 - DATA UNDERSTANDING</a></li>





<li class="toctree-l1"><a class="reference internal" href="Bab3.html">BAB 3 - DETEKSI OUTLIER</a></li>



<li class="toctree-l1"><a class="reference internal" href="Bab3-1.html">DETEKSI OUTLIER MENGGUNAKAN KNN</a></li>

<li class="toctree-l1"><a class="reference internal" href="Bab3-2.html">DETEKSI OUTLIER MENGGUNAKAN LOF</a></li>



<li class="toctree-l1"><a class="reference internal" href="Bab4.html">NAIF BAYES</a></li>






<li class="toctree-l1"><a class="reference internal" href="UTS.html">UTS</a></li>



<li class="toctree-l1 current active"><a class="current reference internal" href="#">K-MEANS CLUSTERING</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FBab5.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Bab5.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>K-MEANS CLUSTERING</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">K-MEANS CLUSTERING</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-k-means">Apa itu K Means</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kelebihannya">Kelebihannya</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kekurangannya">Kekurangannya</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cara-kerja">Cara Kerja</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tahapan-impelementasi">Tahapan Impelementasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#code-nya">Code nya</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="k-means-clustering">
<h1>K-MEANS CLUSTERING<a class="headerlink" href="#k-means-clustering" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="apa-itu-k-means">
<h1>Apa itu K Means<a class="headerlink" href="#apa-itu-k-means" title="Link to this heading">#</a></h1>
<p>K-Means adalah salah satu algoritma unsupervised learning yang paling populer dalam analisis data, terutama untuk melakukan proses clustering atau pengelompokan data. Tujuan utama dari K-Means adalah membagi data ke dalam sejumlah cluster (kelompok) berdasarkan kemiripan karakteristik antar data. Jumlah cluster ditentukan di awal oleh pengguna (disebut sebagai nilai k).</p>
<section id="kelebihannya">
<h2>Kelebihannya<a class="headerlink" href="#kelebihannya" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Sederhana dan mudah diimplementasikan.</p></li>
<li><p>Waktu komputasi relatif cepat, terutama untuk dataset besar.</p></li>
<li><p>Efisien dalam menangani data numerik dan data berukuran besar.</p></li>
</ul>
</section>
<section id="kekurangannya">
<h2>Kekurangannya<a class="headerlink" href="#kekurangannya" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Harus menentukan jumlah cluster (k) sejak awal, yang kadang tidak diketahui.</p></li>
<li><p>Sangat sensitif terhadap pemilihan titik awal (initial centroid).</p></li>
<li><p>Kurang efektif untuk data non-linier atau data yang memiliki bentuk cluster tidak bulat.</p></li>
<li><p>Rentan terhadap outlier.</p></li>
</ul>
</section>
<section id="cara-kerja">
<h2>Cara Kerja<a class="headerlink" href="#cara-kerja" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Algoritma K-Means bekerja melalui iterasi dengan langkah-langkah utama sebagai berikut:</p></li>
<li><p>Tentukan jumlah cluster (k) yang diinginkan.</p></li>
<li><p>Pilih k titik awal sebagai centroid awal (biasanya acak atau dengan metode k-means++).</p></li>
<li><p>Hitung jarak setiap data ke masing-masing centroid, dan kelompokkan ke centroid terdekat.</p></li>
<li><p>Hitung ulang posisi centroid berdasarkan rata-rata titik pada setiap cluster.</p></li>
<li><p>Ulangi langkah 3 dan 4 sampai:</p></li>
</ol>
<ul class="simple">
<li><p>Tidak ada perubahan signifikan dalam pembagian cluster, atau</p></li>
<li><p>Jumlah iterasi maksimum tercapai.</p></li>
</ul>
</section>
<section id="tahapan-impelementasi">
<h2>Tahapan Impelementasi<a class="headerlink" href="#tahapan-impelementasi" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Normalisasi Data:</p></li>
</ol>
<p>Sebelum dilakukan clustering, data terlebih dahulu dinormalisasi menggunakan metode Min-Max Normalization. Ini penting karena K-Means menggunakan jarak Euclidean sebagai ukuran kedekatan antar data. Jika data memiliki skala berbeda, atribut dengan nilai besar akan mendominasi hasil clustering. Dengan normalisasi, semua atribut berada dalam rentang yang sama (misalnya 0 hingga 1), sehingga setiap fitur memberikan kontribusi yang adil.</p>
<ol class="arabic simple" start="2">
<li><p>Proses Clustering:</p></li>
</ol>
<p>Setelah data dinormalisasi, dilakukan proses clustering menggunakan algoritma K-Means. Dalam penelitian ini, digunakan beberapa nilai k seperti 2, 3, dan 4 untuk diuji. Hasil clustering menunjukkan bagaimana data terpisah ke dalam kelompok tertentu berdasarkan karakteristik panjang dan lebar sepal maupun petal.</p>
<ol class="arabic simple" start="3">
<li><p>Evalusi Data:</p></li>
</ol>
<p>Evaluasi dilakukan untuk mengetahui kualitas hasil clustering. Dua metrik utama digunakan:</p>
<ul class="simple">
<li><p>Inertia: mengukur total jarak kuadrat dari setiap titik ke centroid clusternya. Nilai inertia yang kecil menunjukkan bahwa data berada dekat dengan pusat clusternya, yang berarti clustering lebih kompak.</p></li>
<li><p>Silhouette Score: mengukur seberapa baik suatu data cocok berada dalam cluster-nya dibandingkan dengan cluster lain. Nilai berkisar dari -1 hingga 1. Semakin tinggi nilainya, semakin baik pemisahan antar cluster.</p></li>
</ul>
<p>Evaluasi ini digunakan untuk menentukan jumlah cluster terbaik.</p>
<ol class="arabic simple" start="4">
<li><p>Visualisasi SIlhouette dan Elbow:</p></li>
</ol>
<p>Visualisasi silhouette digunakan untuk menunjukkan seberapa baik setiap data berada di dalam clusternya. Dari grafik ini bisa diketahui apakah suatu cluster terlalu kecil, terlalu besar, atau tumpang tindih.</p>
<p>Selain itu, metode elbow digunakan untuk menganalisis nilai inertia terhadap berbagai nilai k. Titik “tekukan” (elbow) pada grafik biasanya menunjukkan nilai k optimal sebelum penurunan inertia mulai melambat.</p>
<ol class="arabic simple" start="5">
<li><p>Penentuan Jumlah Cluster Terbaik:</p></li>
</ol>
<p>Dengan membandingkan nilai inertia dan silhouette score untuk berbagai nilai k, dapat ditentukan jumlah cluster optimal. Dalam kasus ini, nilai k dengan silhouette score tertinggi dianggap sebagai yang paling baik, karena menunjukkan pemisahan cluster yang jelas dan konsisten.</p>
</section>
<section id="code-nya">
<h2>Code nya<a class="headerlink" href="#code-nya" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Install beberapa library</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>psycopg2-binary
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pandas
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>SQLAlchemy<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>scikit-learn
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>numpy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pymysql
  Downloading PyMySQL-1.1.1-py3-none-any.whl.metadata (4.4 kB)
Downloading PyMySQL-1.1.1-py3-none-any.whl (44 kB)
?25l   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">0.0/45.0 kB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">45.0/45.0 kB</span> <span class=" -Color -Color-Red">1.9 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: pymysql
Successfully installed pymysql-1.1.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting psycopg2-binary
  Downloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Downloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
?25l   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">0.0/3.0 MB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   ━━━╺━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">0.3/3.0 MB</span> <span class=" -Color -Color-Red">7.6 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   ━━━━━━━━━━━━━━━━━━━━━━━━╸━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">1.9/3.0 MB</span> <span class=" -Color -Color-Red">28.2 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">3.0/3.0 MB</span> <span class=" -Color -Color-Red">30.0 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: psycopg2-binary
Successfully installed psycopg2-binary-2.9.10
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /usr/local/lib/python3.11/dist-packages (2.2.2)
Requirement already satisfied: numpy&gt;=1.23.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.0.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: SQLAlchemy in /usr/local/lib/python3.11/dist-packages (2.0.40)
Requirement already satisfied: pymysql in /usr/local/lib/python3.11/dist-packages (1.1.1)
Requirement already satisfied: greenlet&gt;=1 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (3.2.2)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (4.13.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: scikit-learn in /usr/local/lib/python3.11/dist-packages (1.6.1)
Requirement already satisfied: numpy&gt;=1.19.5 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (2.0.2)
Requirement already satisfied: scipy&gt;=1.6.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.15.3)
Requirement already satisfied: joblib&gt;=1.2.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.5.0)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (3.6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy in /usr/local/lib/python3.11/dist-packages (2.0.2)
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Ambil Database dari dbever</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tabulate</span><span class="w"> </span><span class="kn">import</span> <span class="n">tabulate</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Membuat koneksi ke MySQL</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">MYSQL_HOST</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">MYSQL_PORT</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">MYSQL_USER</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">MYSQL_PASS</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">MYSQL_DB</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}},</span>  <span class="c1"># Aiven.io membutuhkan koneksi SSL</span>
    <span class="p">)</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Menjalankan query (Ganti &#39;your_table&#39; dengan nama tabel yang benar)</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM defaultdb.irissql;&quot;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Mengambil nama kolom</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

    <span class="c1"># Menampilkan hasil dalam bentuk tabel</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;psql&quot;</span><span class="p">))</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># Menutup koneksi</span>
    <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
|     |   id |   SepalLengthCm |   SepalWidthCm |   PetalLengthCm |   PetalWidthCm | species         |
|-----+------+-----------------+----------------+-----------------+----------------+-----------------|
|   0 |    1 |             5.1 |            3.5 |             1.4 |            0.2 | Iris-setosa     |
|   1 |    2 |             4.9 |            3   |             1.4 |            0.2 | Iris-setosa     |
|   2 |    3 |             4.7 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|   3 |    4 |             4.6 |            3.1 |             1.5 |            0.2 | Iris-setosa     |
|   4 |    5 |             5   |            3.6 |             1.4 |            0.2 | Iris-setosa     |
|   5 |    6 |             5.4 |            3.9 |             1.7 |            0.4 | Iris-setosa     |
|   6 |    7 |             4.6 |            3.4 |             1.4 |            0.3 | Iris-setosa     |
|   7 |    8 |             5   |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|   8 |    9 |             4.4 |            2.9 |             1.4 |            0.2 | Iris-setosa     |
|   9 |   10 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  10 |   11 |             5.4 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  11 |   12 |             4.8 |            3.4 |             1.6 |            0.2 | Iris-setosa     |
|  12 |   13 |             4.8 |            3   |             1.4 |            0.1 | Iris-setosa     |
|  13 |   14 |             4.3 |            3   |             1.1 |            0.1 | Iris-setosa     |
|  14 |   15 |             5.8 |            4   |             1.2 |            0.2 | Iris-setosa     |
|  15 |   16 |             5.7 |            4.4 |             1.5 |            0.4 | Iris-setosa     |
|  16 |   17 |             5.4 |            3.9 |             1.3 |            0.4 | Iris-setosa     |
|  17 |   18 |             5.1 |            3.5 |             1.4 |            0.3 | Iris-setosa     |
|  18 |   19 |             5.7 |            3.8 |             1.7 |            0.3 | Iris-setosa     |
|  19 |   20 |             5.1 |            3.8 |             1.5 |            0.3 | Iris-setosa     |
|  20 |   21 |             5.4 |            3.4 |             1.7 |            0.2 | Iris-setosa     |
|  21 |   22 |             5.1 |            3.7 |             1.5 |            0.4 | Iris-setosa     |
|  22 |   23 |             4.6 |            3.6 |             1   |            0.2 | Iris-setosa     |
|  23 |   24 |             5.1 |            3.3 |             1.7 |            0.5 | Iris-setosa     |
|  24 |   25 |             4.8 |            3.4 |             1.9 |            0.2 | Iris-setosa     |
|  25 |   26 |             5   |            3   |             1.6 |            0.2 | Iris-setosa     |
|  26 |   27 |             5   |            3.4 |             1.6 |            0.4 | Iris-setosa     |
|  27 |   28 |             5.2 |            3.5 |             1.5 |            0.2 | Iris-setosa     |
|  28 |   29 |             5.2 |            3.4 |             1.4 |            0.2 | Iris-setosa     |
|  29 |   30 |             4.7 |            3.2 |             1.6 |            0.2 | Iris-setosa     |
|  30 |   31 |             4.8 |            3.1 |             1.6 |            0.2 | Iris-setosa     |
|  31 |   32 |             5.4 |            3.4 |             1.5 |            0.4 | Iris-setosa     |
|  32 |   33 |             5.2 |            4.1 |             1.5 |            0.1 | Iris-setosa     |
|  33 |   34 |             5.5 |            4.2 |             1.4 |            0.2 | Iris-setosa     |
|  34 |   35 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  35 |   36 |             5   |            3.2 |             1.2 |            0.2 | Iris-setosa     |
|  36 |   37 |             5.5 |            3.5 |             1.3 |            0.2 | Iris-setosa     |
|  37 |   38 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  38 |   39 |             4.4 |            3   |             1.3 |            0.2 | Iris-setosa     |
|  39 |   40 |             5.1 |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|  40 |   41 |             5   |            3.5 |             1.3 |            0.3 | Iris-setosa     |
|  41 |   42 |             4.5 |            2.3 |             1.3 |            0.3 | Iris-setosa     |
|  42 |   43 |             4.4 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|  43 |   44 |             5   |            3.5 |             1.6 |            0.6 | Iris-setosa     |
|  44 |   45 |             5.1 |            3.8 |             1.9 |            0.4 | Iris-setosa     |
|  45 |   46 |             4.8 |            3   |             1.4 |            0.3 | Iris-setosa     |
|  46 |   47 |             5.1 |            3.8 |             1.6 |            0.2 | Iris-setosa     |
|  47 |   48 |             4.6 |            3.2 |             1.4 |            0.2 | Iris-setosa     |
|  48 |   49 |             5.3 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  49 |   50 |             5   |            3.3 |             1.4 |            0.2 | Iris-setosa     |
|  50 |   51 |             7   |            3.2 |             4.7 |            1.4 | Iris-versicolor |
|  51 |   52 |             6.4 |            3.2 |             4.5 |            1.5 | Iris-versicolor |
|  52 |   53 |             6.9 |            3.1 |             4.9 |            1.5 | Iris-versicolor |
|  53 |   54 |             5.5 |            2.3 |             4   |            1.3 | Iris-versicolor |
|  54 |   55 |             6.5 |            2.8 |             4.6 |            1.5 | Iris-versicolor |
|  55 |   56 |             5.7 |            2.8 |             4.5 |            1.3 | Iris-versicolor |
|  56 |   57 |             6.3 |            3.3 |             4.7 |            1.6 | Iris-versicolor |
|  57 |   58 |             4.9 |            2.4 |             3.3 |            1   | Iris-versicolor |
|  58 |   59 |             6.6 |            2.9 |             4.6 |            1.3 | Iris-versicolor |
|  59 |   60 |             5.2 |            2.7 |             3.9 |            1.4 | Iris-versicolor |
|  60 |   61 |             5   |            2   |             3.5 |            1   | Iris-versicolor |
|  61 |   62 |             5.9 |            3   |             4.2 |            1.5 | Iris-versicolor |
|  62 |   63 |             6   |            2.2 |             4   |            1   | Iris-versicolor |
|  63 |   64 |             6.1 |            2.9 |             4.7 |            1.4 | Iris-versicolor |
|  64 |   65 |             5.6 |            2.9 |             3.6 |            1.3 | Iris-versicolor |
|  65 |   66 |             6.7 |            3.1 |             4.4 |            1.4 | Iris-versicolor |
|  66 |   67 |             5.6 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  67 |   68 |             5.8 |            2.7 |             4.1 |            1   | Iris-versicolor |
|  68 |   69 |             6.2 |            2.2 |             4.5 |            1.5 | Iris-versicolor |
|  69 |   70 |             5.6 |            2.5 |             3.9 |            1.1 | Iris-versicolor |
|  70 |   71 |             5.9 |            3.2 |             4.8 |            1.8 | Iris-versicolor |
|  71 |   72 |             6.1 |            2.8 |             4   |            1.3 | Iris-versicolor |
|  72 |   73 |             6.3 |            2.5 |             4.9 |            1.5 | Iris-versicolor |
|  73 |   74 |             6.1 |            2.8 |             4.7 |            1.2 | Iris-versicolor |
|  74 |   75 |             6.4 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  75 |   76 |             6.6 |            3   |             4.4 |            1.4 | Iris-versicolor |
|  76 |   77 |             6.8 |            2.8 |             4.8 |            1.4 | Iris-versicolor |
|  77 |   78 |             6.7 |            3   |             5   |            1.7 | Iris-versicolor |
|  78 |   79 |             6   |            2.9 |             4.5 |            1.5 | Iris-versicolor |
|  79 |   80 |             5.7 |            2.6 |             3.5 |            1   | Iris-versicolor |
|  80 |   81 |             5.5 |            2.4 |             3.8 |            1.1 | Iris-versicolor |
|  81 |   82 |             5.5 |            2.4 |             3.7 |            1   | Iris-versicolor |
|  82 |   83 |             5.8 |            2.7 |             3.9 |            1.2 | Iris-versicolor |
|  83 |   84 |             6   |            2.7 |             5.1 |            1.6 | Iris-versicolor |
|  84 |   85 |             5.4 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  85 |   86 |             6   |            3.4 |             4.5 |            1.6 | Iris-versicolor |
|  86 |   87 |             6.7 |            3.1 |             4.7 |            1.5 | Iris-versicolor |
|  87 |   88 |             6.3 |            2.3 |             4.4 |            1.3 | Iris-versicolor |
|  88 |   89 |             5.6 |            3   |             4.1 |            1.3 | Iris-versicolor |
|  89 |   90 |             5.5 |            2.5 |             4   |            1.3 | Iris-versicolor |
|  90 |   91 |             5.5 |            2.6 |             4.4 |            1.2 | Iris-versicolor |
|  91 |   92 |             6.1 |            3   |             4.6 |            1.4 | Iris-versicolor |
|  92 |   93 |             5.8 |            2.6 |             4   |            1.2 | Iris-versicolor |
|  93 |   94 |             5   |            2.3 |             3.3 |            1   | Iris-versicolor |
|  94 |   95 |             5.6 |            2.7 |             4.2 |            1.3 | Iris-versicolor |
|  95 |   96 |             5.7 |            3   |             4.2 |            1.2 | Iris-versicolor |
|  96 |   97 |             5.7 |            2.9 |             4.2 |            1.3 | Iris-versicolor |
|  97 |   98 |             6.2 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  98 |   99 |             5.1 |            2.5 |             3   |            1.1 | Iris-versicolor |
|  99 |  100 |             5.7 |            2.8 |             4.1 |            1.3 | Iris-versicolor |
| 100 |  101 |             6.3 |            3.3 |             6   |            2.5 | Iris-virginica  |
| 101 |  102 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 102 |  103 |             7.1 |            3   |             5.9 |            2.1 | Iris-virginica  |
| 103 |  104 |             6.3 |            2.9 |             5.6 |            1.8 | Iris-virginica  |
| 104 |  105 |             6.5 |            3   |             5.8 |            2.2 | Iris-virginica  |
| 105 |  106 |             7.6 |            3   |             6.6 |            2.1 | Iris-virginica  |
| 106 |  107 |             4.9 |            2.5 |             4.5 |            1.7 | Iris-virginica  |
| 107 |  108 |             7.3 |            2.9 |             6.3 |            1.8 | Iris-virginica  |
| 108 |  109 |             6.7 |            2.5 |             5.8 |            1.8 | Iris-virginica  |
| 109 |  110 |             7.2 |            3.6 |             6.1 |            2.5 | Iris-virginica  |
| 110 |  111 |             6.5 |            3.2 |             5.1 |            2   | Iris-virginica  |
| 111 |  112 |             6.4 |            2.7 |             5.3 |            1.9 | Iris-virginica  |
| 112 |  113 |             6.8 |            3   |             5.5 |            2.1 | Iris-virginica  |
| 113 |  114 |             5.7 |            2.5 |             5   |            2   | Iris-virginica  |
| 114 |  115 |             5.8 |            2.8 |             5.1 |            2.4 | Iris-virginica  |
| 115 |  116 |             6.4 |            3.2 |             5.3 |            2.3 | Iris-virginica  |
| 116 |  117 |             6.5 |            3   |             5.5 |            1.8 | Iris-virginica  |
| 117 |  118 |             7.7 |            3.8 |             6.7 |            2.2 | Iris-virginica  |
| 118 |  119 |             7.7 |            2.6 |             6.9 |            2.3 | Iris-virginica  |
| 119 |  120 |             6   |            2.2 |             5   |            1.5 | Iris-virginica  |
| 120 |  121 |             6.9 |            3.2 |             5.7 |            2.3 | Iris-virginica  |
| 121 |  122 |             5.6 |            2.8 |             4.9 |            2   | Iris-virginica  |
| 122 |  123 |             7.7 |            2.8 |             6.7 |            2   | Iris-virginica  |
| 123 |  124 |             6.3 |            2.7 |             4.9 |            1.8 | Iris-virginica  |
| 124 |  125 |             6.7 |            3.3 |             5.7 |            2.1 | Iris-virginica  |
| 125 |  126 |             7.2 |            3.2 |             6   |            1.8 | Iris-virginica  |
| 126 |  127 |             6.2 |            2.8 |             4.8 |            1.8 | Iris-virginica  |
| 127 |  128 |             6.1 |            3   |             4.9 |            1.8 | Iris-virginica  |
| 128 |  129 |             6.4 |            2.8 |             5.6 |            2.1 | Iris-virginica  |
| 129 |  130 |             7.2 |            3   |             5.8 |            1.6 | Iris-virginica  |
| 130 |  131 |             7.4 |            2.8 |             6.1 |            1.9 | Iris-virginica  |
| 131 |  132 |             7.9 |            3.8 |             6.4 |            2   | Iris-virginica  |
| 132 |  133 |             6.4 |            2.8 |             5.6 |            2.2 | Iris-virginica  |
| 133 |  134 |             6.3 |            2.8 |             5.1 |            1.5 | Iris-virginica  |
| 134 |  135 |             6.1 |            2.6 |             5.6 |            1.4 | Iris-virginica  |
| 135 |  136 |             7.7 |            3   |             6.1 |            2.3 | Iris-virginica  |
| 136 |  137 |             6.3 |            3.4 |             5.6 |            2.4 | Iris-virginica  |
| 137 |  138 |             6.4 |            3.1 |             5.5 |            1.8 | Iris-virginica  |
| 138 |  139 |             6   |            3   |             4.8 |            1.8 | Iris-virginica  |
| 139 |  140 |             6.9 |            3.1 |             5.4 |            2.1 | Iris-virginica  |
| 140 |  141 |             6.7 |            3.1 |             5.6 |            2.4 | Iris-virginica  |
| 141 |  142 |             6.9 |            3.1 |             5.1 |            2.3 | Iris-virginica  |
| 142 |  143 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 143 |  144 |             6.8 |            3.2 |             5.9 |            2.3 | Iris-virginica  |
| 144 |  145 |             6.7 |            3.3 |             5.7 |            2.5 | Iris-virginica  |
| 145 |  146 |             6.7 |            3   |             5.2 |            2.3 | Iris-virginica  |
| 146 |  147 |             6.3 |            2.5 |             5   |            1.9 | Iris-virginica  |
| 147 |  148 |             6.5 |            3   |             5.2 |            2   | Iris-virginica  |
| 148 |  149 |             6.2 |            3.4 |             5.4 |            2.3 | Iris-virginica  |
| 149 |  150 |             5.9 |            3   |             5.1 |            1.8 | Iris-virginica  |
+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Hilangan species/labelnya</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tabulate</span><span class="w"> </span><span class="kn">import</span> <span class="n">tabulate</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>  <span class="c1"># Aiven MySQL biasanya menggunakan port 25060</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>  <span class="c1"># Ganti dengan nama database Anda</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>  <span class="c1"># Username dari Aiven.io</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>  <span class="c1"># Ganti dengan password dari Aiven.io</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Membuat koneksi ke MySQL</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">MYSQL_HOST</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">MYSQL_PORT</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">MYSQL_USER</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">MYSQL_PASS</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">MYSQL_DB</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}},</span>  <span class="c1"># Aiven.io membutuhkan koneksi SSL</span>
    <span class="p">)</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Menjalankan query untuk mengambil data tanpa kolom &#39;species&#39;</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT sepalLengthCm, sepalWidthCm, petalLengthCm, petalWidthCm FROM defaultdb.irissql;&quot;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Mengambil nama kolom</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

    <span class="c1"># Menampilkan hasil dalam bentuk tabel</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
    <span class="n">data_remove_class</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>  <span class="c1"># atau df.values</span>

    <span class="c1"># Menampilkan DataFrame tanpa kolom species (kalau ada)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data tanpa kolom &#39;species&#39;:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;psql&quot;</span><span class="p">))</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># Menutup koneksi</span>
    <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data tanpa kolom &#39;species&#39;:
+-----+-----------------+----------------+-----------------+----------------+
|     |   sepalLengthCm |   sepalWidthCm |   petalLengthCm |   petalWidthCm |
|-----+-----------------+----------------+-----------------+----------------|
|   0 |             5.1 |            3.5 |             1.4 |            0.2 |
|   1 |             4.9 |            3   |             1.4 |            0.2 |
|   2 |             4.7 |            3.2 |             1.3 |            0.2 |
|   3 |             4.6 |            3.1 |             1.5 |            0.2 |
|   4 |             5   |            3.6 |             1.4 |            0.2 |
|   5 |             5.4 |            3.9 |             1.7 |            0.4 |
|   6 |             4.6 |            3.4 |             1.4 |            0.3 |
|   7 |             5   |            3.4 |             1.5 |            0.2 |
|   8 |             4.4 |            2.9 |             1.4 |            0.2 |
|   9 |             4.9 |            3.1 |             1.5 |            0.1 |
|  10 |             5.4 |            3.7 |             1.5 |            0.2 |
|  11 |             4.8 |            3.4 |             1.6 |            0.2 |
|  12 |             4.8 |            3   |             1.4 |            0.1 |
|  13 |             4.3 |            3   |             1.1 |            0.1 |
|  14 |             5.8 |            4   |             1.2 |            0.2 |
|  15 |             5.7 |            4.4 |             1.5 |            0.4 |
|  16 |             5.4 |            3.9 |             1.3 |            0.4 |
|  17 |             5.1 |            3.5 |             1.4 |            0.3 |
|  18 |             5.7 |            3.8 |             1.7 |            0.3 |
|  19 |             5.1 |            3.8 |             1.5 |            0.3 |
|  20 |             5.4 |            3.4 |             1.7 |            0.2 |
|  21 |             5.1 |            3.7 |             1.5 |            0.4 |
|  22 |             4.6 |            3.6 |             1   |            0.2 |
|  23 |             5.1 |            3.3 |             1.7 |            0.5 |
|  24 |             4.8 |            3.4 |             1.9 |            0.2 |
|  25 |             5   |            3   |             1.6 |            0.2 |
|  26 |             5   |            3.4 |             1.6 |            0.4 |
|  27 |             5.2 |            3.5 |             1.5 |            0.2 |
|  28 |             5.2 |            3.4 |             1.4 |            0.2 |
|  29 |             4.7 |            3.2 |             1.6 |            0.2 |
|  30 |             4.8 |            3.1 |             1.6 |            0.2 |
|  31 |             5.4 |            3.4 |             1.5 |            0.4 |
|  32 |             5.2 |            4.1 |             1.5 |            0.1 |
|  33 |             5.5 |            4.2 |             1.4 |            0.2 |
|  34 |             4.9 |            3.1 |             1.5 |            0.1 |
|  35 |             5   |            3.2 |             1.2 |            0.2 |
|  36 |             5.5 |            3.5 |             1.3 |            0.2 |
|  37 |             4.9 |            3.1 |             1.5 |            0.1 |
|  38 |             4.4 |            3   |             1.3 |            0.2 |
|  39 |             5.1 |            3.4 |             1.5 |            0.2 |
|  40 |             5   |            3.5 |             1.3 |            0.3 |
|  41 |             4.5 |            2.3 |             1.3 |            0.3 |
|  42 |             4.4 |            3.2 |             1.3 |            0.2 |
|  43 |             5   |            3.5 |             1.6 |            0.6 |
|  44 |             5.1 |            3.8 |             1.9 |            0.4 |
|  45 |             4.8 |            3   |             1.4 |            0.3 |
|  46 |             5.1 |            3.8 |             1.6 |            0.2 |
|  47 |             4.6 |            3.2 |             1.4 |            0.2 |
|  48 |             5.3 |            3.7 |             1.5 |            0.2 |
|  49 |             5   |            3.3 |             1.4 |            0.2 |
|  50 |             7   |            3.2 |             4.7 |            1.4 |
|  51 |             6.4 |            3.2 |             4.5 |            1.5 |
|  52 |             6.9 |            3.1 |             4.9 |            1.5 |
|  53 |             5.5 |            2.3 |             4   |            1.3 |
|  54 |             6.5 |            2.8 |             4.6 |            1.5 |
|  55 |             5.7 |            2.8 |             4.5 |            1.3 |
|  56 |             6.3 |            3.3 |             4.7 |            1.6 |
|  57 |             4.9 |            2.4 |             3.3 |            1   |
|  58 |             6.6 |            2.9 |             4.6 |            1.3 |
|  59 |             5.2 |            2.7 |             3.9 |            1.4 |
|  60 |             5   |            2   |             3.5 |            1   |
|  61 |             5.9 |            3   |             4.2 |            1.5 |
|  62 |             6   |            2.2 |             4   |            1   |
|  63 |             6.1 |            2.9 |             4.7 |            1.4 |
|  64 |             5.6 |            2.9 |             3.6 |            1.3 |
|  65 |             6.7 |            3.1 |             4.4 |            1.4 |
|  66 |             5.6 |            3   |             4.5 |            1.5 |
|  67 |             5.8 |            2.7 |             4.1 |            1   |
|  68 |             6.2 |            2.2 |             4.5 |            1.5 |
|  69 |             5.6 |            2.5 |             3.9 |            1.1 |
|  70 |             5.9 |            3.2 |             4.8 |            1.8 |
|  71 |             6.1 |            2.8 |             4   |            1.3 |
|  72 |             6.3 |            2.5 |             4.9 |            1.5 |
|  73 |             6.1 |            2.8 |             4.7 |            1.2 |
|  74 |             6.4 |            2.9 |             4.3 |            1.3 |
|  75 |             6.6 |            3   |             4.4 |            1.4 |
|  76 |             6.8 |            2.8 |             4.8 |            1.4 |
|  77 |             6.7 |            3   |             5   |            1.7 |
|  78 |             6   |            2.9 |             4.5 |            1.5 |
|  79 |             5.7 |            2.6 |             3.5 |            1   |
|  80 |             5.5 |            2.4 |             3.8 |            1.1 |
|  81 |             5.5 |            2.4 |             3.7 |            1   |
|  82 |             5.8 |            2.7 |             3.9 |            1.2 |
|  83 |             6   |            2.7 |             5.1 |            1.6 |
|  84 |             5.4 |            3   |             4.5 |            1.5 |
|  85 |             6   |            3.4 |             4.5 |            1.6 |
|  86 |             6.7 |            3.1 |             4.7 |            1.5 |
|  87 |             6.3 |            2.3 |             4.4 |            1.3 |
|  88 |             5.6 |            3   |             4.1 |            1.3 |
|  89 |             5.5 |            2.5 |             4   |            1.3 |
|  90 |             5.5 |            2.6 |             4.4 |            1.2 |
|  91 |             6.1 |            3   |             4.6 |            1.4 |
|  92 |             5.8 |            2.6 |             4   |            1.2 |
|  93 |             5   |            2.3 |             3.3 |            1   |
|  94 |             5.6 |            2.7 |             4.2 |            1.3 |
|  95 |             5.7 |            3   |             4.2 |            1.2 |
|  96 |             5.7 |            2.9 |             4.2 |            1.3 |
|  97 |             6.2 |            2.9 |             4.3 |            1.3 |
|  98 |             5.1 |            2.5 |             3   |            1.1 |
|  99 |             5.7 |            2.8 |             4.1 |            1.3 |
| 100 |             6.3 |            3.3 |             6   |            2.5 |
| 101 |             5.8 |            2.7 |             5.1 |            1.9 |
| 102 |             7.1 |            3   |             5.9 |            2.1 |
| 103 |             6.3 |            2.9 |             5.6 |            1.8 |
| 104 |             6.5 |            3   |             5.8 |            2.2 |
| 105 |             7.6 |            3   |             6.6 |            2.1 |
| 106 |             4.9 |            2.5 |             4.5 |            1.7 |
| 107 |             7.3 |            2.9 |             6.3 |            1.8 |
| 108 |             6.7 |            2.5 |             5.8 |            1.8 |
| 109 |             7.2 |            3.6 |             6.1 |            2.5 |
| 110 |             6.5 |            3.2 |             5.1 |            2   |
| 111 |             6.4 |            2.7 |             5.3 |            1.9 |
| 112 |             6.8 |            3   |             5.5 |            2.1 |
| 113 |             5.7 |            2.5 |             5   |            2   |
| 114 |             5.8 |            2.8 |             5.1 |            2.4 |
| 115 |             6.4 |            3.2 |             5.3 |            2.3 |
| 116 |             6.5 |            3   |             5.5 |            1.8 |
| 117 |             7.7 |            3.8 |             6.7 |            2.2 |
| 118 |             7.7 |            2.6 |             6.9 |            2.3 |
| 119 |             6   |            2.2 |             5   |            1.5 |
| 120 |             6.9 |            3.2 |             5.7 |            2.3 |
| 121 |             5.6 |            2.8 |             4.9 |            2   |
| 122 |             7.7 |            2.8 |             6.7 |            2   |
| 123 |             6.3 |            2.7 |             4.9 |            1.8 |
| 124 |             6.7 |            3.3 |             5.7 |            2.1 |
| 125 |             7.2 |            3.2 |             6   |            1.8 |
| 126 |             6.2 |            2.8 |             4.8 |            1.8 |
| 127 |             6.1 |            3   |             4.9 |            1.8 |
| 128 |             6.4 |            2.8 |             5.6 |            2.1 |
| 129 |             7.2 |            3   |             5.8 |            1.6 |
| 130 |             7.4 |            2.8 |             6.1 |            1.9 |
| 131 |             7.9 |            3.8 |             6.4 |            2   |
| 132 |             6.4 |            2.8 |             5.6 |            2.2 |
| 133 |             6.3 |            2.8 |             5.1 |            1.5 |
| 134 |             6.1 |            2.6 |             5.6 |            1.4 |
| 135 |             7.7 |            3   |             6.1 |            2.3 |
| 136 |             6.3 |            3.4 |             5.6 |            2.4 |
| 137 |             6.4 |            3.1 |             5.5 |            1.8 |
| 138 |             6   |            3   |             4.8 |            1.8 |
| 139 |             6.9 |            3.1 |             5.4 |            2.1 |
| 140 |             6.7 |            3.1 |             5.6 |            2.4 |
| 141 |             6.9 |            3.1 |             5.1 |            2.3 |
| 142 |             5.8 |            2.7 |             5.1 |            1.9 |
| 143 |             6.8 |            3.2 |             5.9 |            2.3 |
| 144 |             6.7 |            3.3 |             5.7 |            2.5 |
| 145 |             6.7 |            3   |             5.2 |            2.3 |
| 146 |             6.3 |            2.5 |             5   |            1.9 |
| 147 |             6.5 |            3   |             5.2 |            2   |
| 148 |             6.2 |            3.4 |             5.4 |            2.3 |
| 149 |             5.9 |            3   |             5.1 |            1.8 |
+-----+-----------------+----------------+-----------------+----------------+
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Normalisasi Data</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Misal kamu sudah punya data_remove_class dari MySQL, berupa numpy array</span>
<span class="c1"># Contoh: data_remove_class = df.to_numpy()</span>

<span class="c1"># Inisialisasi scaler</span>
<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>

<span class="c1"># Normalisasi data (fit &amp; transform)</span>
<span class="n">data_normalized</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">data_remove_class</span><span class="p">)</span>

<span class="c1"># Cek hasil normalisasi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data setelah normalisasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data_normalized</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data setelah normalisasi:
[[-9.00681170e-01  1.03205722e+00 -1.34127240e+00 -1.31297673e+00]
 [-1.14301691e+00 -1.24957601e-01 -1.34127240e+00 -1.31297673e+00]
 [-1.38535265e+00  3.37848329e-01 -1.39813811e+00 -1.31297673e+00]
 [-1.50652052e+00  1.06445364e-01 -1.28440670e+00 -1.31297673e+00]
 [-1.02184904e+00  1.26346019e+00 -1.34127240e+00 -1.31297673e+00]
 [-5.37177559e-01  1.95766909e+00 -1.17067529e+00 -1.05003079e+00]
 [-1.50652052e+00  8.00654259e-01 -1.34127240e+00 -1.18150376e+00]
 [-1.02184904e+00  8.00654259e-01 -1.28440670e+00 -1.31297673e+00]
 [-1.74885626e+00 -3.56360566e-01 -1.34127240e+00 -1.31297673e+00]
 [-1.14301691e+00  1.06445364e-01 -1.28440670e+00 -1.44444970e+00]
 [-5.37177559e-01  1.49486315e+00 -1.28440670e+00 -1.31297673e+00]
 [-1.26418478e+00  8.00654259e-01 -1.22754100e+00 -1.31297673e+00]
 [-1.26418478e+00 -1.24957601e-01 -1.34127240e+00 -1.44444970e+00]
 [-1.87002413e+00 -1.24957601e-01 -1.51186952e+00 -1.44444970e+00]
 [-5.25060772e-02  2.18907205e+00 -1.45500381e+00 -1.31297673e+00]
 [-1.73673948e-01  3.11468391e+00 -1.28440670e+00 -1.05003079e+00]
 [-5.37177559e-01  1.95766909e+00 -1.39813811e+00 -1.05003079e+00]
 [-9.00681170e-01  1.03205722e+00 -1.34127240e+00 -1.18150376e+00]
 [-1.73673948e-01  1.72626612e+00 -1.17067529e+00 -1.18150376e+00]
 [-9.00681170e-01  1.72626612e+00 -1.28440670e+00 -1.18150376e+00]
 [-5.37177559e-01  8.00654259e-01 -1.17067529e+00 -1.31297673e+00]
 [-9.00681170e-01  1.49486315e+00 -1.28440670e+00 -1.05003079e+00]
 [-1.50652052e+00  1.26346019e+00 -1.56873522e+00 -1.31297673e+00]
 [-9.00681170e-01  5.69251294e-01 -1.17067529e+00 -9.18557817e-01]
 [-1.26418478e+00  8.00654259e-01 -1.05694388e+00 -1.31297673e+00]
 [-1.02184904e+00 -1.24957601e-01 -1.22754100e+00 -1.31297673e+00]
 [-1.02184904e+00  8.00654259e-01 -1.22754100e+00 -1.05003079e+00]
 [-7.79513300e-01  1.03205722e+00 -1.28440670e+00 -1.31297673e+00]
 [-7.79513300e-01  8.00654259e-01 -1.34127240e+00 -1.31297673e+00]
 [-1.38535265e+00  3.37848329e-01 -1.22754100e+00 -1.31297673e+00]
 [-1.26418478e+00  1.06445364e-01 -1.22754100e+00 -1.31297673e+00]
 [-5.37177559e-01  8.00654259e-01 -1.28440670e+00 -1.05003079e+00]
 [-7.79513300e-01  2.42047502e+00 -1.28440670e+00 -1.44444970e+00]
 [-4.16009689e-01  2.65187798e+00 -1.34127240e+00 -1.31297673e+00]
 [-1.14301691e+00  1.06445364e-01 -1.28440670e+00 -1.44444970e+00]
 [-1.02184904e+00  3.37848329e-01 -1.45500381e+00 -1.31297673e+00]
 [-4.16009689e-01  1.03205722e+00 -1.39813811e+00 -1.31297673e+00]
 [-1.14301691e+00  1.06445364e-01 -1.28440670e+00 -1.44444970e+00]
 [-1.74885626e+00 -1.24957601e-01 -1.39813811e+00 -1.31297673e+00]
 [-9.00681170e-01  8.00654259e-01 -1.28440670e+00 -1.31297673e+00]
 [-1.02184904e+00  1.03205722e+00 -1.39813811e+00 -1.18150376e+00]
 [-1.62768839e+00 -1.74477836e+00 -1.39813811e+00 -1.18150376e+00]
 [-1.74885626e+00  3.37848329e-01 -1.39813811e+00 -1.31297673e+00]
 [-1.02184904e+00  1.03205722e+00 -1.22754100e+00 -7.87084847e-01]
 [-9.00681170e-01  1.72626612e+00 -1.05694388e+00 -1.05003079e+00]
 [-1.26418478e+00 -1.24957601e-01 -1.34127240e+00 -1.18150376e+00]
 [-9.00681170e-01  1.72626612e+00 -1.22754100e+00 -1.31297673e+00]
 [-1.50652052e+00  3.37848329e-01 -1.34127240e+00 -1.31297673e+00]
 [-6.58345429e-01  1.49486315e+00 -1.28440670e+00 -1.31297673e+00]
 [-1.02184904e+00  5.69251294e-01 -1.34127240e+00 -1.31297673e+00]
 [ 1.40150837e+00  3.37848329e-01  5.35295827e-01  2.64698913e-01]
 [ 6.74501145e-01  3.37848329e-01  4.21564419e-01  3.96171883e-01]
 [ 1.28034050e+00  1.06445364e-01  6.49027235e-01  3.96171883e-01]
 [-4.16009689e-01 -1.74477836e+00  1.37235899e-01  1.33225943e-01]
 [ 7.95669016e-01 -5.87763531e-01  4.78430123e-01  3.96171883e-01]
 [-1.73673948e-01 -5.87763531e-01  4.21564419e-01  1.33225943e-01]
 [ 5.53333275e-01  5.69251294e-01  5.35295827e-01  5.27644853e-01]
 [-1.14301691e+00 -1.51337539e+00 -2.60824029e-01 -2.61192967e-01]
 [ 9.16836886e-01 -3.56360566e-01  4.78430123e-01  1.33225943e-01]
 [-7.79513300e-01 -8.19166497e-01  8.03701950e-02  2.64698913e-01]
 [-1.02184904e+00 -2.43898725e+00 -1.47092621e-01 -2.61192967e-01]
 [ 6.86617933e-02 -1.24957601e-01  2.50967307e-01  3.96171883e-01]
 [ 1.89829664e-01 -1.97618132e+00  1.37235899e-01 -2.61192967e-01]
 [ 3.10997534e-01 -3.56360566e-01  5.35295827e-01  2.64698913e-01]
 [-2.94841818e-01 -3.56360566e-01 -9.02269170e-02  1.33225943e-01]
 [ 1.03800476e+00  1.06445364e-01  3.64698715e-01  2.64698913e-01]
 [-2.94841818e-01 -1.24957601e-01  4.21564419e-01  3.96171883e-01]
 [-5.25060772e-02 -8.19166497e-01  1.94101603e-01 -2.61192967e-01]
 [ 4.32165405e-01 -1.97618132e+00  4.21564419e-01  3.96171883e-01]
 [-2.94841818e-01 -1.28197243e+00  8.03701950e-02 -1.29719997e-01]
 [ 6.86617933e-02  3.37848329e-01  5.92161531e-01  7.90590793e-01]
 [ 3.10997534e-01 -5.87763531e-01  1.37235899e-01  1.33225943e-01]
 [ 5.53333275e-01 -1.28197243e+00  6.49027235e-01  3.96171883e-01]
 [ 3.10997534e-01 -5.87763531e-01  5.35295827e-01  1.75297293e-03]
 [ 6.74501145e-01 -3.56360566e-01  3.07833011e-01  1.33225943e-01]
 [ 9.16836886e-01 -1.24957601e-01  3.64698715e-01  2.64698913e-01]
 [ 1.15917263e+00 -5.87763531e-01  5.92161531e-01  2.64698913e-01]
 [ 1.03800476e+00 -1.24957601e-01  7.05892939e-01  6.59117823e-01]
 [ 1.89829664e-01 -3.56360566e-01  4.21564419e-01  3.96171883e-01]
 [-1.73673948e-01 -1.05056946e+00 -1.47092621e-01 -2.61192967e-01]
 [-4.16009689e-01 -1.51337539e+00  2.35044910e-02 -1.29719997e-01]
 [-4.16009689e-01 -1.51337539e+00 -3.33612130e-02 -2.61192967e-01]
 [-5.25060772e-02 -8.19166497e-01  8.03701950e-02  1.75297293e-03]
 [ 1.89829664e-01 -8.19166497e-01  7.62758643e-01  5.27644853e-01]
 [-5.37177559e-01 -1.24957601e-01  4.21564419e-01  3.96171883e-01]
 [ 1.89829664e-01  8.00654259e-01  4.21564419e-01  5.27644853e-01]
 [ 1.03800476e+00  1.06445364e-01  5.35295827e-01  3.96171883e-01]
 [ 5.53333275e-01 -1.74477836e+00  3.64698715e-01  1.33225943e-01]
 [-2.94841818e-01 -1.24957601e-01  1.94101603e-01  1.33225943e-01]
 [-4.16009689e-01 -1.28197243e+00  1.37235899e-01  1.33225943e-01]
 [-4.16009689e-01 -1.05056946e+00  3.64698715e-01  1.75297293e-03]
 [ 3.10997534e-01 -1.24957601e-01  4.78430123e-01  2.64698913e-01]
 [-5.25060772e-02 -1.05056946e+00  1.37235899e-01  1.75297293e-03]
 [-1.02184904e+00 -1.74477836e+00 -2.60824029e-01 -2.61192967e-01]
 [-2.94841818e-01 -8.19166497e-01  2.50967307e-01  1.33225943e-01]
 [-1.73673948e-01 -1.24957601e-01  2.50967307e-01  1.75297293e-03]
 [-1.73673948e-01 -3.56360566e-01  2.50967307e-01  1.33225943e-01]
 [ 4.32165405e-01 -3.56360566e-01  3.07833011e-01  1.33225943e-01]
 [-9.00681170e-01 -1.28197243e+00 -4.31421141e-01 -1.29719997e-01]
 [-1.73673948e-01 -5.87763531e-01  1.94101603e-01  1.33225943e-01]
 [ 5.53333275e-01  5.69251294e-01  1.27454998e+00  1.71090158e+00]
 [-5.25060772e-02 -8.19166497e-01  7.62758643e-01  9.22063763e-01]
 [ 1.52267624e+00 -1.24957601e-01  1.21768427e+00  1.18500970e+00]
 [ 5.53333275e-01 -3.56360566e-01  1.04708716e+00  7.90590793e-01]
 [ 7.95669016e-01 -1.24957601e-01  1.16081857e+00  1.31648267e+00]
 [ 2.12851559e+00 -1.24957601e-01  1.61574420e+00  1.18500970e+00]
 [-1.14301691e+00 -1.28197243e+00  4.21564419e-01  6.59117823e-01]
 [ 1.76501198e+00 -3.56360566e-01  1.44514709e+00  7.90590793e-01]
 [ 1.03800476e+00 -1.28197243e+00  1.16081857e+00  7.90590793e-01]
 [ 1.64384411e+00  1.26346019e+00  1.33141568e+00  1.71090158e+00]
 [ 7.95669016e-01  3.37848329e-01  7.62758643e-01  1.05353673e+00]
 [ 6.74501145e-01 -8.19166497e-01  8.76490051e-01  9.22063763e-01]
 [ 1.15917263e+00 -1.24957601e-01  9.90221459e-01  1.18500970e+00]
 [-1.73673948e-01 -1.28197243e+00  7.05892939e-01  1.05353673e+00]
 [-5.25060772e-02 -5.87763531e-01  7.62758643e-01  1.57942861e+00]
 [ 6.74501145e-01  3.37848329e-01  8.76490051e-01  1.44795564e+00]
 [ 7.95669016e-01 -1.24957601e-01  9.90221459e-01  7.90590793e-01]
 [ 2.24968346e+00  1.72626612e+00  1.67260991e+00  1.31648267e+00]
 [ 2.24968346e+00 -1.05056946e+00  1.78634131e+00  1.44795564e+00]
 [ 1.89829664e-01 -1.97618132e+00  7.05892939e-01  3.96171883e-01]
 [ 1.28034050e+00  3.37848329e-01  1.10395287e+00  1.44795564e+00]
 [-2.94841818e-01 -5.87763531e-01  6.49027235e-01  1.05353673e+00]
 [ 2.24968346e+00 -5.87763531e-01  1.67260991e+00  1.05353673e+00]
 [ 5.53333275e-01 -8.19166497e-01  6.49027235e-01  7.90590793e-01]
 [ 1.03800476e+00  5.69251294e-01  1.10395287e+00  1.18500970e+00]
 [ 1.64384411e+00  3.37848329e-01  1.27454998e+00  7.90590793e-01]
 [ 4.32165405e-01 -5.87763531e-01  5.92161531e-01  7.90590793e-01]
 [ 3.10997534e-01 -1.24957601e-01  6.49027235e-01  7.90590793e-01]
 [ 6.74501145e-01 -5.87763531e-01  1.04708716e+00  1.18500970e+00]
 [ 1.64384411e+00 -1.24957601e-01  1.16081857e+00  5.27644853e-01]
 [ 1.88617985e+00 -5.87763531e-01  1.33141568e+00  9.22063763e-01]
 [ 2.49201920e+00  1.72626612e+00  1.50201279e+00  1.05353673e+00]
 [ 6.74501145e-01 -5.87763531e-01  1.04708716e+00  1.31648267e+00]
 [ 5.53333275e-01 -5.87763531e-01  7.62758643e-01  3.96171883e-01]
 [ 3.10997534e-01 -1.05056946e+00  1.04708716e+00  2.64698913e-01]
 [ 2.24968346e+00 -1.24957601e-01  1.33141568e+00  1.44795564e+00]
 [ 5.53333275e-01  8.00654259e-01  1.04708716e+00  1.57942861e+00]
 [ 6.74501145e-01  1.06445364e-01  9.90221459e-01  7.90590793e-01]
 [ 1.89829664e-01 -1.24957601e-01  5.92161531e-01  7.90590793e-01]
 [ 1.28034050e+00  1.06445364e-01  9.33355755e-01  1.18500970e+00]
 [ 1.03800476e+00  1.06445364e-01  1.04708716e+00  1.57942861e+00]
 [ 1.28034050e+00  1.06445364e-01  7.62758643e-01  1.44795564e+00]
 [-5.25060772e-02 -8.19166497e-01  7.62758643e-01  9.22063763e-01]
 [ 1.15917263e+00  3.37848329e-01  1.21768427e+00  1.44795564e+00]
 [ 1.03800476e+00  5.69251294e-01  1.10395287e+00  1.71090158e+00]
 [ 1.03800476e+00 -1.24957601e-01  8.19624347e-01  1.44795564e+00]
 [ 5.53333275e-01 -1.28197243e+00  7.05892939e-01  9.22063763e-01]
 [ 7.95669016e-01 -1.24957601e-01  8.19624347e-01  1.05353673e+00]
 [ 4.32165405e-01  8.00654259e-01  9.33355755e-01  1.44795564e+00]
 [ 6.86617933e-02 -1.24957601e-01  7.62758643e-01  7.90590793e-01]]
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p>Visualisasi</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>

<span class="c1"># Buat koneksi dengan SQLAlchemy</span>
<span class="c1"># Berikan parameter ssl sebagai dictionary untuk PyMySQL</span>
<span class="n">db_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;mysql+pymysql://</span><span class="si">{</span><span class="n">MYSQL_USER</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">MYSQL_PASS</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">MYSQL_HOST</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">MYSQL_PORT</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">MYSQL_DB</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1"># Tambahkan connect_args untuk parameter SSL</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">db_url</span><span class="p">,</span> <span class="n">connect_args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}}})</span>


<span class="c1"># Ambil data</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT sepalLengthCm, sepalWidthCm, petalLengthCm, petalWidthCm FROM irissql;&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>

<span class="c1"># Visualisasi</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;sepalLengthCm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;sepalWidthCm&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Sepal Length vs Width&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Sepal Length (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Sepal Width (cm)&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;petalLengthCm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;petalWidthCm&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Petal Length vs Width&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Petal Length (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Petal Width (cm)&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/de7c7164a6b9acab9221c1b43b08bbacce750bd97cc5af7000ac6a94e3c1a5b9.png" src="_images/de7c7164a6b9acab9221c1b43b08bbacce750bd97cc5af7000ac6a94e3c1a5b9.png" />
</div>
</div>
<ol class="arabic simple" start="6">
<li><p>Clustering dengan K = 2</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>
<span class="n">k_means_C2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="n">k_means_C2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">labelC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">InertiaC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-6-49a89a021316&gt;</span> in <span class="ni">&lt;cell line: 0&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="n">k_means_C2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>

<span class="ne">NameError</span>: name &#39;KMeans&#39; is not defined
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Visualisasi Hasil Clustering K = 2</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">val_X</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">val_X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">labelC2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroidsC2</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroidsC2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Hasil Clustering (k=2)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Fitur 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Fitur 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/45da0e40318dddadfa47c283e2c200344c0812cd10f4788b7002ed33df19d461.png" src="_images/45da0e40318dddadfa47c283e2c200344c0812cd10f4788b7002ed33df19d461.png" />
</div>
</div>
<ol class="arabic simple" start="8">
<li><p>Nilai Inertia Hasil Clustering K = 2</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 2:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 2: 105.16576351752823
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="9">
<li><p>Silhouete Score dengan K =2</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k=2: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k=2:  0.7405544914557842
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="10">
<li><p>Clustering dengan K = 3</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>

<span class="n">k_means_C3</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="c1"># Latih model</span>
<span class="n">k_means_C3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="c1"># Ambil hasil</span>
<span class="n">labelC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">InertiaC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initialization complete
Iteration 0, inertia 101.62999999999994.
Iteration 1, inertia 53.71228616780049.
Iteration 2, inertia 49.637470833333346.
Iteration 3, inertia 48.36391864506109.
Iteration 4, inertia 48.168714731262334.
Iteration 5, inertia 48.03795999999999.
Iteration 6, inertia 48.01326442577033.
Converged at iteration 6: strict convergence.
Initialization complete
Iteration 0, inertia 74.96999999999998.
Iteration 1, inertia 48.17967067102235.
Iteration 2, inertia 48.03795999999999.
Iteration 3, inertia 48.01326442577033.
Converged at iteration 3: strict convergence.
Initialization complete
Iteration 0, inertia 73.51999999999998.
Iteration 1, inertia 53.75499394383634.
Iteration 2, inertia 49.01050335439959.
Iteration 3, inertia 48.4406800962021.
Iteration 4, inertia 48.20424930555555.
Iteration 5, inertia 48.170190905332795.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 58.830000000000005.
Iteration 1, inertia 48.659167658964435.
Iteration 2, inertia 48.168714731262334.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 69.63.
Iteration 1, inertia 48.17428538587848.
Converged at iteration 1: strict convergence.
Initialization complete
Iteration 0, inertia 82.02.
Iteration 1, inertia 52.19027897726125.
Iteration 2, inertia 49.095271605177935.
Iteration 3, inertia 48.292864181499.
Iteration 4, inertia 48.03795999999999.
Iteration 5, inertia 48.01326442577033.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 92.21999999999996.
Iteration 1, inertia 48.93823172986125.
Iteration 2, inertia 48.292864181499.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 57.37.
Iteration 1, inertia 48.29385883733025.
Iteration 2, inertia 48.101985980818874.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 94.26999999999998.
Iteration 1, inertia 55.53507656249998.
Iteration 2, inertia 49.73044753279608.
Iteration 3, inertia 48.4406800962021.
Iteration 4, inertia 48.20424930555555.
Iteration 5, inertia 48.170190905332795.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 74.23.
Iteration 1, inertia 48.40811674640406.
Iteration 2, inertia 48.168714731262334.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="11">
<li><p>Visualisasi Hasil Clustering K = 3</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">val_X</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">val_X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">labelC3</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroidsC3</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroidsC3</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Hasil Clustering (k=3)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Fitur 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Fitur 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c54210439415be06769eb5b57cdcc64c90e1eabdfa17a82e42bb1da243cb8a97.png" src="_images/c54210439415be06769eb5b57cdcc64c90e1eabdfa17a82e42bb1da243cb8a97.png" />
</div>
</div>
<ol class="arabic simple" start="12">
<li><p>Itung Inertia Hasil Clustering K = 3</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 3:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 3: 48.99365658263308
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="13">
<li><p>Silhouete Score dengan K = 3</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k = 3: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k = 3:  0.5934015210796922
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="14">
<li><p>Clustering dengan K = 4</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsikan data_remove_class sudah tersedia dan tidak mengandung kolom class</span>
<span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>

<span class="c1"># KMeans untuk k = 4</span>
<span class="n">k_means_C4</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="c1"># Latih model</span>
<span class="n">k_means_C4</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="c1"># Ambil hasil</span>
<span class="n">labelC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">InertiaC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initialization complete
Iteration 0, inertia 50.13.
Iteration 1, inertia 34.51888608441198.
Iteration 2, inertia 34.39441862706302.
Iteration 3, inertia 34.35062490842491.
Converged at iteration 3: strict convergence.
Initialization complete
Iteration 0, inertia 54.48999999999999.
Iteration 1, inertia 37.0637319741342.
Iteration 2, inertia 35.33608722668967.
Iteration 3, inertia 34.84717737737736.
Iteration 4, inertia 34.75469840125414.
Iteration 5, inertia 34.67641033278176.
Iteration 6, inertia 34.57568304510763.
Iteration 7, inertia 34.51289444444444.
Converged at iteration 7: strict convergence.
Initialization complete
Iteration 0, inertia 63.000000000000014.
Iteration 1, inertia 36.4527138269532.
Iteration 2, inertia 34.98067929577097.
Iteration 3, inertia 34.84717737737736.
Iteration 4, inertia 34.75469840125414.
Iteration 5, inertia 34.67641033278176.
Iteration 6, inertia 34.57568304510763.
Iteration 7, inertia 34.51289444444444.
Converged at iteration 7: strict convergence.
Initialization complete
Iteration 0, inertia 59.60000000000005.
Iteration 1, inertia 36.65059357899724.
Iteration 2, inertia 34.94410836552725.
Iteration 3, inertia 34.69273686339401.
Iteration 4, inertia 34.57568304510763.
Iteration 5, inertia 34.51289444444444.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 61.27000000000002.
Iteration 1, inertia 36.710744405422595.
Iteration 2, inertia 34.529196179245986.
Iteration 3, inertia 34.47671689301915.
Iteration 4, inertia 34.385058671410704.
Iteration 5, inertia 34.341737037037035.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 77.02999999999994.
Iteration 1, inertia 34.98669791613268.
Iteration 2, inertia 34.72263859044996.
Iteration 3, inertia 34.53325490919242.
Iteration 4, inertia 34.51289444444444.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 62.17999999999999.
Iteration 1, inertia 42.382707029478446.
Iteration 2, inertia 40.55698982568846.
Iteration 3, inertia 38.65928028808533.
Iteration 4, inertia 37.669319391025645.
Iteration 5, inertia 36.96621550827793.
Iteration 6, inertia 36.456630191452696.
Iteration 7, inertia 36.39498083170891.
Iteration 8, inertia 36.29266740096091.
Iteration 9, inertia 36.222468170426076.
Converged at iteration 9: strict convergence.
Initialization complete
Iteration 0, inertia 53.51999999999999.
Iteration 1, inertia 38.553303659401976.
Iteration 2, inertia 36.38177885802469.
Iteration 3, inertia 35.14892426850713.
Iteration 4, inertia 34.84717737737736.
Iteration 5, inertia 34.75469840125414.
Iteration 6, inertia 34.67641033278176.
Iteration 7, inertia 34.57568304510763.
Iteration 8, inertia 34.51289444444444.
Converged at iteration 8: strict convergence.
Initialization complete
Iteration 0, inertia 52.57000000000001.
Iteration 1, inertia 34.72099336031934.
Iteration 2, inertia 34.51289444444444.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 44.58999999999999.
Iteration 1, inertia 36.46063427391197.
Iteration 2, inertia 36.054266386909795.
Iteration 3, inertia 35.82447662037039.
Iteration 4, inertia 35.801256035714296.
Iteration 5, inertia 35.687867227522176.
Iteration 6, inertia 35.55372666179692.
Iteration 7, inertia 35.28811208791209.
Iteration 8, inertia 34.58512918472541.
Iteration 9, inertia 34.3811097222222.
Iteration 10, inertia 34.296908390022686.
Iteration 11, inertia 34.266958907496914.
Converged at iteration 11: strict convergence.
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="15">
<li><p>Visualisasi Hasil CLustering K = 4</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">val_X</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">val_X</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="n">labelC4</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroidsC4</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroidsC4</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Hasil Clustering (k=4)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Fitur 1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Fitur 2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5dfbf92346d319090d6d704349e56511fae0cd30405e4a0cad709266d0f5dbb0.png" src="_images/5dfbf92346d319090d6d704349e56511fae0cd30405e4a0cad709266d0f5dbb0.png" />
</div>
</div>
<ol class="arabic simple" start="16">
<li><p>Itung Inertia Hasil Clustering K = 4</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 4:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 4: 57.44028021295475
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="17">
<li><p>Silhouette Score dengan K = 4</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k = 4: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k = 4:  0.4974115445023624
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Visualisasi dari score siluet</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">silhouette_score</span><span class="p">,</span> <span class="n">silhouette_samples</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsi data sudah ada di val_X (misalnya hasil normalisasi)</span>

<span class="n">k_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Uji untuk K=2, K=3, K=4</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_range</span><span class="p">:</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

    <span class="n">silhouette_values</span> <span class="o">=</span> <span class="n">silhouette_samples</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

    <span class="c1"># ---- Silhouette Plot untuk K Cluster ----</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">y_lower</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">ith_cluster_silhouette_values</span> <span class="o">=</span> <span class="n">silhouette_values</span><span class="p">[</span><span class="n">labels</span> <span class="o">==</span> <span class="n">i</span><span class="p">]</span>
        <span class="n">ith_cluster_silhouette_values</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="n">size_cluster_i</span> <span class="o">=</span> <span class="n">ith_cluster_silhouette_values</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y_upper</span> <span class="o">=</span> <span class="n">y_lower</span> <span class="o">+</span> <span class="n">size_cluster_i</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Spectral</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="n">k</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">fill_betweenx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">y_lower</span><span class="p">,</span> <span class="n">y_upper</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ith_cluster_silhouette_values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="p">(</span><span class="n">y_lower</span> <span class="o">+</span> <span class="n">y_upper</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Cluster </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="n">y_lower</span> <span class="o">=</span> <span class="n">y_upper</span> <span class="o">+</span> <span class="mi">10</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Silhouette Plot for K=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Silhouette Coefficient&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Cluster Label&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/41a1b4056769593fb7d7bc688cbe0d5c8e3e5ba54fd3cac7643c211c914d60b7.png" src="_images/41a1b4056769593fb7d7bc688cbe0d5c8e3e5ba54fd3cac7643c211c914d60b7.png" />
<img alt="_images/f5dc64d127fa48798f891808bcb07c16a99c7422626450813d5d374d71de00e4.png" src="_images/f5dc64d127fa48798f891808bcb07c16a99c7422626450813d5d374d71de00e4.png" />
<img alt="_images/d99544d9b1d6213bc1e7ff61d8afd3d7bea7aeccbd3571d9f9cdc3850927205e.png" src="_images/d99544d9b1d6213bc1e7ff61d8afd3d7bea7aeccbd3571d9f9cdc3850927205e.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsikan data sudah dalam variabel val_X (misalnya hasil normalisasi)</span>
<span class="c1"># Contoh: val_X = scaler.fit_transform(data) atau val_X = np.array(df)</span>

<span class="n">k_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">inertia_values</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">silhouette_scores</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_range</span><span class="p">:</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

    <span class="n">inertia_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>  <span class="c1"># untuk Elbow Method</span>
    <span class="n">silhouette_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">))</span>  <span class="c1"># untuk Silhouette</span>

<span class="c1"># -------------------------</span>
<span class="c1"># Elbow Method Plot</span>
<span class="c1"># -------------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">k_range</span><span class="p">,</span> <span class="n">inertia_values</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Elbow Method&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Jumlah Cluster (K)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Inertia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">k_range</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># -------------------------</span>
<span class="c1"># Tampilkan K terbaik berdasarkan Silhouette Score tertinggi</span>
<span class="c1"># -------------------------</span>
<span class="n">optimal_k</span> <span class="o">=</span> <span class="n">k_range</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">silhouette_scores</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">K dengan Silhouette Score terbaik adalah: K = </span><span class="si">{</span><span class="n">optimal_k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5eb6f908c28d6f1a790891ba86cefa9a1304524d1768518ac7cf8278bdb0c233.png" src="_images/5eb6f908c28d6f1a790891ba86cefa9a1304524d1768518ac7cf8278bdb0c233.png" />
<img alt="_images/ca899911ac12babf76b61ca7a7fa1554c51c956458f12f8fa056a18582383034.png" src="_images/ca899911ac12babf76b61ca7a7fa1554c51c956458f12f8fa056a18582383034.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>K dengan Silhouette Score terbaik adalah: K = 2
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="UTS.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">UTS</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">K-MEANS CLUSTERING</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-k-means">Apa itu K Means</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kelebihannya">Kelebihannya</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#kekurangannya">Kekurangannya</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cara-kerja">Cara Kerja</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tahapan-impelementasi">Tahapan Impelementasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#code-nya">Code nya</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Muhammad Abid Ayyasy
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>