
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>BINING(DISCRETIZER) &#8212; Pendat</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Bab6-Bining';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="K-MEANS CLUSTERING" href="Bab5.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Pendat - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Pendat - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Buku Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Bab1.html">BAB 1 - DATA MINING</a></li>


<li class="toctree-l1"><a class="reference internal" href="Bab2.html">BAB 2 - DATA UNDERSTANDING</a></li>





<li class="toctree-l1"><a class="reference internal" href="Bab3.html">BAB 3 - DETEKSI OUTLIER</a></li>



<li class="toctree-l1"><a class="reference internal" href="Bab3-1.html">DETEKSI OUTLIER MENGGUNAKAN KNN</a></li>

<li class="toctree-l1"><a class="reference internal" href="Bab3-2.html">DETEKSI OUTLIER MENGGUNAKAN LOF</a></li>



<li class="toctree-l1"><a class="reference internal" href="Bab4.html">NAIF BAYES</a></li>






<li class="toctree-l1"><a class="reference internal" href="UTS.html">UTS</a></li>



<li class="toctree-l1"><a class="reference internal" href="Bab5.html">K-MEANS CLUSTERING</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">BINING(DISCRETIZER)</a></li>



</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FBab6-Bining.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Bab6-Bining.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>BINING(DISCRETIZER)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">BINING(DISCRETIZER)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-bining-dicretizer">Apa Itu Bining Dicretizer</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jenis-bining">Jenis Bining</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="bining-discretizer">
<h1>BINING(DISCRETIZER)<a class="headerlink" href="#bining-discretizer" title="Link to this heading">#</a></h1>
</section>
<section id="apa-itu-bining-dicretizer">
<h1>Apa Itu Bining Dicretizer<a class="headerlink" href="#apa-itu-bining-dicretizer" title="Link to this heading">#</a></h1>
<p>Binning (atau discretization) adalah proses mengubah fitur numerik kontinu menjadi fitur diskret (kategori) dengan membagi rentang nilainya menjadi beberapa bin (interval).</p>
</section>
<section id="tujuan">
<h1>Tujuan<a class="headerlink" href="#tujuan" title="Link to this heading">#</a></h1>
<p>menyederhanakan data, mengurangi noise, dan kadang meningkatkan performa model tertentu (seperti Naive Bayes).</p>
</section>
<section id="jenis-bining">
<h1>Jenis Bining<a class="headerlink" href="#jenis-bining" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Equal Width Bining</p></li>
</ol>
<p>membagi seluruh rentang nilai menjadi bin dengan lebar sama</p>
<p>contoh: jika panjang kelopak bervariasi dari 1.0-6.0, dan kita pakai 3 bin:</p>
<ul class="simple">
<li><p>bin 1: 1.0-2.67</p></li>
<li><p>bin 2: 2.67-4.33</p></li>
<li><p>bin 3: 4.33-6.0</p></li>
</ul>
<p>kelebihan: mudah dan cepat
kekurangan: tidak peduli distribusi data</p>
<ol class="arabic simple" start="2">
<li><p>Equal Frequency Binning (Quantile)</p></li>
</ol>
<p>setiap bin memiliki jumlah data yang hampir sama</p>
<p>contoh: kita ingin membagi data menjadi 3 bin dan ada 150 data:</p>
<ul class="simple">
<li><p>bin 1: 50 data dengan nilai terkecil</p></li>
<li><p>bin 2: 50 data dengan nilai tengah</p></li>
<li><p>bin 3: 50 data dengan nilai terbesar</p></li>
</ul>
<p>kelebihan: tiap bin berisi jumlah data sama
kekurangan: bisa punya bin dengan range kecil/besar tidak konsisten</p>
<ol class="arabic simple" start="3">
<li><p>K-Means Binning (Clustering-based)</p></li>
</ol>
<p>alih-alih membagi berdasarkan nilai/jumlah, kita pakai k-means untuk menemukan pola alami dalam data</p>
<p>kelebihan: menangkap pola alami dalam data
kekurangan: lebih kompleks dan butuh pemrosesan lebih lama</p>
<p>CODE NYA</p>
<ol class="arabic simple">
<li><p>Menginstall beberapa library yang dibutuhkan, seperti:</p></li>
</ol>
<ul class="simple">
<li><p>pymysql = library untuk connect dan melakukan query ke database MySQL dari Python.</p></li>
<li><p>psycopg2-binary = library untuk connect dan melakukan query ke database postgresql</p></li>
<li><p>pandas = library untuk manipulasi dan analisis data tabular, menyediakan struktur data frame yang lebih mudah digunakan</p></li>
<li><p>SQLAlchemy = framework ORM dan API untuk berinteraksi dengan database tanpa harus menuliskan raw sql</p></li>
<li><p>sckit-learn = library machine learning yang menyediakan model, algoritma, dan metric untuk training, testing dan evaluatin performa</p></li>
<li><p>numpy = library untuk perhitungan matematika dan manipulasi array yang lebih efisien dan menjadi dasar dari pandas dan sckit-learn</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>psycopg2-binary
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pandas
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>SQLAlchemy<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>scikit-learn
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>numpy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /usr/local/lib/python3.11/dist-packages (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: psycopg2-binary in /usr/local/lib/python3.11/dist-packages (2.9.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /usr/local/lib/python3.11/dist-packages (2.2.2)
Requirement already satisfied: numpy&gt;=1.23.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.0.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: SQLAlchemy in /usr/local/lib/python3.11/dist-packages (2.0.41)
Requirement already satisfied: pymysql in /usr/local/lib/python3.11/dist-packages (1.1.1)
Requirement already satisfied: greenlet&gt;=1 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (3.2.2)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (4.14.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: scikit-learn in /usr/local/lib/python3.11/dist-packages (1.6.1)
Requirement already satisfied: numpy&gt;=1.19.5 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (2.0.2)
Requirement already satisfied: scipy&gt;=1.6.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.15.3)
Requirement already satisfied: joblib&gt;=1.2.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.5.1)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (3.6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy in /usr/local/lib/python3.11/dist-packages (2.0.2)
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="2">
<li><p>Mengambil database  sql</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tabulate</span><span class="w"> </span><span class="kn">import</span> <span class="n">tabulate</span>

<span class="c1"># --- Konfigurasi koneksi ---</span>
<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Membuka koneksi ke database</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">MYSQL_HOST</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">MYSQL_PORT</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">MYSQL_USER</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">MYSQL_PASS</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">MYSQL_DB</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}},</span>  <span class="c1"># koneksi SSL untuk Aiven</span>
    <span class="p">)</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Menjalankan query</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM defaultdb.irissql;&quot;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Ambil nama kolom</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

    <span class="c1"># Buat dua versi dataframe</span>
    <span class="n">df_asli</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df_asli</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Tampilkan data asli saja</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">df_asli</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;psql&quot;</span><span class="p">))</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
|     |   id |   SepalLengthCm |   SepalWidthCm |   PetalLengthCm |   PetalWidthCm | species         |
|-----+------+-----------------+----------------+-----------------+----------------+-----------------|
|   0 |    1 |             5.1 |            3.5 |             1.4 |            0.2 | Iris-setosa     |
|   1 |    2 |             4.9 |            3   |             1.4 |            0.2 | Iris-setosa     |
|   2 |    3 |             4.7 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|   3 |    4 |             4.6 |            3.1 |             1.5 |            0.2 | Iris-setosa     |
|   4 |    5 |             5   |            3.6 |             1.4 |            0.2 | Iris-setosa     |
|   5 |    6 |             5.4 |            3.9 |             1.7 |            0.4 | Iris-setosa     |
|   6 |    7 |             4.6 |            3.4 |             1.4 |            0.3 | Iris-setosa     |
|   7 |    8 |             5   |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|   8 |    9 |             4.4 |            2.9 |             1.4 |            0.2 | Iris-setosa     |
|   9 |   10 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  10 |   11 |             5.4 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  11 |   12 |             4.8 |            3.4 |             1.6 |            0.2 | Iris-setosa     |
|  12 |   13 |             4.8 |            3   |             1.4 |            0.1 | Iris-setosa     |
|  13 |   14 |             4.3 |            3   |             1.1 |            0.1 | Iris-setosa     |
|  14 |   15 |             5.8 |            4   |             1.2 |            0.2 | Iris-setosa     |
|  15 |   16 |             5.7 |            4.4 |             1.5 |            0.4 | Iris-setosa     |
|  16 |   17 |             5.4 |            3.9 |             1.3 |            0.4 | Iris-setosa     |
|  17 |   18 |             5.1 |            3.5 |             1.4 |            0.3 | Iris-setosa     |
|  18 |   19 |             5.7 |            3.8 |             1.7 |            0.3 | Iris-setosa     |
|  19 |   20 |             5.1 |            3.8 |             1.5 |            0.3 | Iris-setosa     |
|  20 |   21 |             5.4 |            3.4 |             1.7 |            0.2 | Iris-setosa     |
|  21 |   22 |             5.1 |            3.7 |             1.5 |            0.4 | Iris-setosa     |
|  22 |   23 |             4.6 |            3.6 |             1   |            0.2 | Iris-setosa     |
|  23 |   24 |             5.1 |            3.3 |             1.7 |            0.5 | Iris-setosa     |
|  24 |   25 |             4.8 |            3.4 |             1.9 |            0.2 | Iris-setosa     |
|  25 |   26 |             5   |            3   |             1.6 |            0.2 | Iris-setosa     |
|  26 |   27 |             5   |            3.4 |             1.6 |            0.4 | Iris-setosa     |
|  27 |   28 |             5.2 |            3.5 |             1.5 |            0.2 | Iris-setosa     |
|  28 |   29 |             5.2 |            3.4 |             1.4 |            0.2 | Iris-setosa     |
|  29 |   30 |             4.7 |            3.2 |             1.6 |            0.2 | Iris-setosa     |
|  30 |   31 |             4.8 |            3.1 |             1.6 |            0.2 | Iris-setosa     |
|  31 |   32 |             5.4 |            3.4 |             1.5 |            0.4 | Iris-setosa     |
|  32 |   33 |             5.2 |            4.1 |             1.5 |            0.1 | Iris-setosa     |
|  33 |   34 |             5.5 |            4.2 |             1.4 |            0.2 | Iris-setosa     |
|  34 |   35 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  35 |   36 |             5   |            3.2 |             1.2 |            0.2 | Iris-setosa     |
|  36 |   37 |             5.5 |            3.5 |             1.3 |            0.2 | Iris-setosa     |
|  37 |   38 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  38 |   39 |             4.4 |            3   |             1.3 |            0.2 | Iris-setosa     |
|  39 |   40 |             5.1 |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|  40 |   41 |             5   |            3.5 |             1.3 |            0.3 | Iris-setosa     |
|  41 |   42 |             4.5 |            2.3 |             1.3 |            0.3 | Iris-setosa     |
|  42 |   43 |             4.4 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|  43 |   44 |             5   |            3.5 |             1.6 |            0.6 | Iris-setosa     |
|  44 |   45 |             5.1 |            3.8 |             1.9 |            0.4 | Iris-setosa     |
|  45 |   46 |             4.8 |            3   |             1.4 |            0.3 | Iris-setosa     |
|  46 |   47 |             5.1 |            3.8 |             1.6 |            0.2 | Iris-setosa     |
|  47 |   48 |             4.6 |            3.2 |             1.4 |            0.2 | Iris-setosa     |
|  48 |   49 |             5.3 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  49 |   50 |             5   |            3.3 |             1.4 |            0.2 | Iris-setosa     |
|  50 |   51 |             7   |            3.2 |             4.7 |            1.4 | Iris-versicolor |
|  51 |   52 |             6.4 |            3.2 |             4.5 |            1.5 | Iris-versicolor |
|  52 |   53 |             6.9 |            3.1 |             4.9 |            1.5 | Iris-versicolor |
|  53 |   54 |             5.5 |            2.3 |             4   |            1.3 | Iris-versicolor |
|  54 |   55 |             6.5 |            2.8 |             4.6 |            1.5 | Iris-versicolor |
|  55 |   56 |             5.7 |            2.8 |             4.5 |            1.3 | Iris-versicolor |
|  56 |   57 |             6.3 |            3.3 |             4.7 |            1.6 | Iris-versicolor |
|  57 |   58 |             4.9 |            2.4 |             3.3 |            1   | Iris-versicolor |
|  58 |   59 |             6.6 |            2.9 |             4.6 |            1.3 | Iris-versicolor |
|  59 |   60 |             5.2 |            2.7 |             3.9 |            1.4 | Iris-versicolor |
|  60 |   61 |             5   |            2   |             3.5 |            1   | Iris-versicolor |
|  61 |   62 |             5.9 |            3   |             4.2 |            1.5 | Iris-versicolor |
|  62 |   63 |             6   |            2.2 |             4   |            1   | Iris-versicolor |
|  63 |   64 |             6.1 |            2.9 |             4.7 |            1.4 | Iris-versicolor |
|  64 |   65 |             5.6 |            2.9 |             3.6 |            1.3 | Iris-versicolor |
|  65 |   66 |             6.7 |            3.1 |             4.4 |            1.4 | Iris-versicolor |
|  66 |   67 |             5.6 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  67 |   68 |             5.8 |            2.7 |             4.1 |            1   | Iris-versicolor |
|  68 |   69 |             6.2 |            2.2 |             4.5 |            1.5 | Iris-versicolor |
|  69 |   70 |             5.6 |            2.5 |             3.9 |            1.1 | Iris-versicolor |
|  70 |   71 |             5.9 |            3.2 |             4.8 |            1.8 | Iris-versicolor |
|  71 |   72 |             6.1 |            2.8 |             4   |            1.3 | Iris-versicolor |
|  72 |   73 |             6.3 |            2.5 |             4.9 |            1.5 | Iris-versicolor |
|  73 |   74 |             6.1 |            2.8 |             4.7 |            1.2 | Iris-versicolor |
|  74 |   75 |             6.4 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  75 |   76 |             6.6 |            3   |             4.4 |            1.4 | Iris-versicolor |
|  76 |   77 |             6.8 |            2.8 |             4.8 |            1.4 | Iris-versicolor |
|  77 |   78 |             6.7 |            3   |             5   |            1.7 | Iris-versicolor |
|  78 |   79 |             6   |            2.9 |             4.5 |            1.5 | Iris-versicolor |
|  79 |   80 |             5.7 |            2.6 |             3.5 |            1   | Iris-versicolor |
|  80 |   81 |             5.5 |            2.4 |             3.8 |            1.1 | Iris-versicolor |
|  81 |   82 |             5.5 |            2.4 |             3.7 |            1   | Iris-versicolor |
|  82 |   83 |             5.8 |            2.7 |             3.9 |            1.2 | Iris-versicolor |
|  83 |   84 |             6   |            2.7 |             5.1 |            1.6 | Iris-versicolor |
|  84 |   85 |             5.4 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  85 |   86 |             6   |            3.4 |             4.5 |            1.6 | Iris-versicolor |
|  86 |   87 |             6.7 |            3.1 |             4.7 |            1.5 | Iris-versicolor |
|  87 |   88 |             6.3 |            2.3 |             4.4 |            1.3 | Iris-versicolor |
|  88 |   89 |             5.6 |            3   |             4.1 |            1.3 | Iris-versicolor |
|  89 |   90 |             5.5 |            2.5 |             4   |            1.3 | Iris-versicolor |
|  90 |   91 |             5.5 |            2.6 |             4.4 |            1.2 | Iris-versicolor |
|  91 |   92 |             6.1 |            3   |             4.6 |            1.4 | Iris-versicolor |
|  92 |   93 |             5.8 |            2.6 |             4   |            1.2 | Iris-versicolor |
|  93 |   94 |             5   |            2.3 |             3.3 |            1   | Iris-versicolor |
|  94 |   95 |             5.6 |            2.7 |             4.2 |            1.3 | Iris-versicolor |
|  95 |   96 |             5.7 |            3   |             4.2 |            1.2 | Iris-versicolor |
|  96 |   97 |             5.7 |            2.9 |             4.2 |            1.3 | Iris-versicolor |
|  97 |   98 |             6.2 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  98 |   99 |             5.1 |            2.5 |             3   |            1.1 | Iris-versicolor |
|  99 |  100 |             5.7 |            2.8 |             4.1 |            1.3 | Iris-versicolor |
| 100 |  101 |             6.3 |            3.3 |             6   |            2.5 | Iris-virginica  |
| 101 |  102 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 102 |  103 |             7.1 |            3   |             5.9 |            2.1 | Iris-virginica  |
| 103 |  104 |             6.3 |            2.9 |             5.6 |            1.8 | Iris-virginica  |
| 104 |  105 |             6.5 |            3   |             5.8 |            2.2 | Iris-virginica  |
| 105 |  106 |             7.6 |            3   |             6.6 |            2.1 | Iris-virginica  |
| 106 |  107 |             4.9 |            2.5 |             4.5 |            1.7 | Iris-virginica  |
| 107 |  108 |             7.3 |            2.9 |             6.3 |            1.8 | Iris-virginica  |
| 108 |  109 |             6.7 |            2.5 |             5.8 |            1.8 | Iris-virginica  |
| 109 |  110 |             7.2 |            3.6 |             6.1 |            2.5 | Iris-virginica  |
| 110 |  111 |             6.5 |            3.2 |             5.1 |            2   | Iris-virginica  |
| 111 |  112 |             6.4 |            2.7 |             5.3 |            1.9 | Iris-virginica  |
| 112 |  113 |             6.8 |            3   |             5.5 |            2.1 | Iris-virginica  |
| 113 |  114 |             5.7 |            2.5 |             5   |            2   | Iris-virginica  |
| 114 |  115 |             5.8 |            2.8 |             5.1 |            2.4 | Iris-virginica  |
| 115 |  116 |             6.4 |            3.2 |             5.3 |            2.3 | Iris-virginica  |
| 116 |  117 |             6.5 |            3   |             5.5 |            1.8 | Iris-virginica  |
| 117 |  118 |             7.7 |            3.8 |             6.7 |            2.2 | Iris-virginica  |
| 118 |  119 |             7.7 |            2.6 |             6.9 |            2.3 | Iris-virginica  |
| 119 |  120 |             6   |            2.2 |             5   |            1.5 | Iris-virginica  |
| 120 |  121 |             6.9 |            3.2 |             5.7 |            2.3 | Iris-virginica  |
| 121 |  122 |             5.6 |            2.8 |             4.9 |            2   | Iris-virginica  |
| 122 |  123 |             7.7 |            2.8 |             6.7 |            2   | Iris-virginica  |
| 123 |  124 |             6.3 |            2.7 |             4.9 |            1.8 | Iris-virginica  |
| 124 |  125 |             6.7 |            3.3 |             5.7 |            2.1 | Iris-virginica  |
| 125 |  126 |             7.2 |            3.2 |             6   |            1.8 | Iris-virginica  |
| 126 |  127 |             6.2 |            2.8 |             4.8 |            1.8 | Iris-virginica  |
| 127 |  128 |             6.1 |            3   |             4.9 |            1.8 | Iris-virginica  |
| 128 |  129 |             6.4 |            2.8 |             5.6 |            2.1 | Iris-virginica  |
| 129 |  130 |             7.2 |            3   |             5.8 |            1.6 | Iris-virginica  |
| 130 |  131 |             7.4 |            2.8 |             6.1 |            1.9 | Iris-virginica  |
| 131 |  132 |             7.9 |            3.8 |             6.4 |            2   | Iris-virginica  |
| 132 |  133 |             6.4 |            2.8 |             5.6 |            2.2 | Iris-virginica  |
| 133 |  134 |             6.3 |            2.8 |             5.1 |            1.5 | Iris-virginica  |
| 134 |  135 |             6.1 |            2.6 |             5.6 |            1.4 | Iris-virginica  |
| 135 |  136 |             7.7 |            3   |             6.1 |            2.3 | Iris-virginica  |
| 136 |  137 |             6.3 |            3.4 |             5.6 |            2.4 | Iris-virginica  |
| 137 |  138 |             6.4 |            3.1 |             5.5 |            1.8 | Iris-virginica  |
| 138 |  139 |             6   |            3   |             4.8 |            1.8 | Iris-virginica  |
| 139 |  140 |             6.9 |            3.1 |             5.4 |            2.1 | Iris-virginica  |
| 140 |  141 |             6.7 |            3.1 |             5.6 |            2.4 | Iris-virginica  |
| 141 |  142 |             6.9 |            3.1 |             5.1 |            2.3 | Iris-virginica  |
| 142 |  143 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 143 |  144 |             6.8 |            3.2 |             5.9 |            2.3 | Iris-virginica  |
| 144 |  145 |             6.7 |            3.3 |             5.7 |            2.5 | Iris-virginica  |
| 145 |  146 |             6.7 |            3   |             5.2 |            2.3 | Iris-virginica  |
| 146 |  147 |             6.3 |            2.5 |             5   |            1.9 | Iris-virginica  |
| 147 |  148 |             6.5 |            3   |             5.2 |            2   | Iris-virginica  |
| 148 |  149 |             6.2 |            3.4 |             5.4 |            2.3 | Iris-virginica  |
| 149 |  150 |             5.9 |            3   |             5.1 |            1.8 | Iris-virginica  |
+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="3">
<li><p>Memisahkan sendiri setiap kolom nya dari tabel dab ubah data numeriknya menjadi kategorikal</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    SepalLengthCm
0            5.10
1            4.90
2            4.70
3            4.60
4            5.00
5            5.40
6            4.60
7            5.00
8            4.40
9            4.90
10           5.40
11           4.80
12           4.80
13           4.30
14           5.80
15           5.70
16           5.40
17           5.10
18           5.70
19           5.10
20           5.40
21           5.10
22           4.60
23           5.10
24           4.80
25           5.00
26           5.00
27           5.20
28           5.20
29           4.70
30           4.80
31           5.40
32           5.20
33           5.50
34           4.90
35           5.00
36           5.50
37           4.90
38           4.40
39           5.10
40           5.00
41           4.50
42           4.40
43           5.00
44           5.10
45           4.80
46           5.10
47           4.60
48           5.30
49           5.00
50           7.00
51           6.40
52           6.90
53           5.50
54           6.50
55           5.70
56           6.30
57           4.90
58           6.60
59           5.20
60           5.00
61           5.90
62           6.00
63           6.10
64           5.60
65           6.70
66           5.60
67           5.80
68           6.20
69           5.60
70           5.90
71           6.10
72           6.30
73           6.10
74           6.40
75           6.60
76           6.80
77           6.70
78           6.00
79           5.70
80           5.50
81           5.50
82           5.80
83           6.00
84           5.40
85           6.00
86           6.70
87           6.30
88           5.60
89           5.50
90           5.50
91           6.10
92           5.80
93           5.00
94           5.60
95           5.70
96           5.70
97           6.20
98           5.10
99           5.70
100          6.30
101          5.80
102          7.10
103          6.30
104          6.50
105          7.60
106          4.90
107          7.30
108          6.70
109          7.20
110          6.50
111          6.40
112          6.80
113          5.70
114          5.80
115          6.40
116          6.50
117          7.70
118          7.70
119          6.00
120          6.90
121          5.60
122          7.70
123          6.30
124          6.70
125          7.20
126          6.20
127          6.10
128          6.40
129          7.20
130          7.40
131          7.90
132          6.40
133          6.30
134          6.10
135          7.70
136          6.30
137          6.40
138          6.00
139          6.90
140          6.70
141          6.90
142          5.80
143          6.80
144          6.70
145          6.70
146          6.30
147          6.50
148          6.20
149          5.90
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>  <span class="c1"># Mengimpor KMeans dari scikit-learn, algoritma untuk clustering</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>  <span class="c1"># Mengimpor NumPy, berguna untuk perhitungan matematika dan array</span>

<span class="c1"># Pastikan kolom SepalLengthCm bertipe float</span>
<span class="c1"># (Ini penting karena KMeans membutuhkan tipe numerik)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Membuat sebuah object KMeans dengan 4 clusters dan sebuah seed untuk reproducibility</span>
<span class="c1"># n_clusters = 4 -&gt; mencari 4 kelompok</span>
<span class="c1"># random_state = 42 -&gt; agar hasilnya dapat direproduksi</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Melatih KMeans dan mendapatkan label clusters untuk masing-masing baris</span>
<span class="c1"># Di sini yang diberlakukan untuk clustering hanya satu kolom saja (SepalLengthCm)</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]])</span>

<span class="c1"># Mengambil pusat clusters (centroid) dan kemudian diberi peringkat</span>
<span class="c1"># Dalam hal ini, diberi peringkat dari yang terkecil ke terbesar</span>
<span class="c1"># sehingga nanti diberi label A, B, C, D sesuai urutan ukuran centroid</span>
<span class="n">cluster_centers</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">cluster_centers</span><span class="p">)</span>

<span class="c1"># Membuat mapping dari indeks clusters yang diberika KMeans ke huruf</span>
<span class="c1"># A, B, C, D sesuai urutan ukuran centroid</span>
<span class="c1"># Misalnya centroid yang paling kecil diberi A, yang lebih besar diberi B, dan seterusnya</span>
<span class="n">cluster_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">old</span><span class="p">:</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">old</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_indices</span><span class="p">)}</span>

<span class="c1"># Mengganti label clusters yang diberika KMeans dengan huruf A, B, C, D sesuai mapping yang dibuat</span>
<span class="c1"># Dengan cara melakukan perulangan pada masing-masing clusters</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">cluster_map</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">]</span>

<span class="c1"># Cek hasilnya</span>
<span class="c1"># Dengan menampilkan DataFrame yang hanya punya kolom SepalLengthCm</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">]])</span>  <span class="c1"># Tiap baris akan diberi label huruf sesuai kelompoknya</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    SepalLengthCm
0               A
1               A
2               A
3               A
4               A
5               B
6               A
7               A
8               A
9               A
10              B
11              A
12              A
13              A
14              B
15              B
16              B
17              A
18              B
19              A
20              B
21              A
22              A
23              A
24              A
25              A
26              A
27              A
28              A
29              A
30              A
31              B
32              A
33              B
34              A
35              A
36              B
37              A
38              A
39              A
40              A
41              A
42              A
43              A
44              A
45              A
46              A
47              A
48              B
49              A
50              D
51              C
52              D
53              B
54              C
55              B
56              C
57              A
58              C
59              A
60              A
61              B
62              C
63              C
64              B
65              C
66              B
67              B
68              C
69              B
70              B
71              C
72              C
73              C
74              C
75              C
76              D
77              C
78              C
79              B
80              B
81              B
82              B
83              C
84              B
85              C
86              C
87              C
88              B
89              B
90              B
91              C
92              B
93              A
94              B
95              B
96              B
97              C
98              A
99              B
100             C
101             B
102             D
103             C
104             C
105             D
106             A
107             D
108             C
109             D
110             C
111             C
112             D
113             B
114             B
115             C
116             C
117             D
118             D
119             C
120             D
121             B
122             D
123             C
124             C
125             D
126             C
127             C
128             C
129             D
130             D
131             D
132             C
133             C
134             C
135             D
136             C
137             C
138             C
139             D
140             C
141             D
142             B
143             D
144             C
145             C
146             C
147             C
148             C
149             B
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      id SepalLengthCm SepalWidthCm PetalLengthCm PetalWidthCm  \
0      1             A         3.50          1.40         0.20   
1      2             A         3.00          1.40         0.20   
2      3             A         3.20          1.30         0.20   
3      4             A         3.10          1.50         0.20   
4      5             A         3.60          1.40         0.20   
5      6             B         3.90          1.70         0.40   
6      7             A         3.40          1.40         0.30   
7      8             A         3.40          1.50         0.20   
8      9             A         2.90          1.40         0.20   
9     10             A         3.10          1.50         0.10   
10    11             B         3.70          1.50         0.20   
11    12             A         3.40          1.60         0.20   
12    13             A         3.00          1.40         0.10   
13    14             A         3.00          1.10         0.10   
14    15             B         4.00          1.20         0.20   
15    16             B         4.40          1.50         0.40   
16    17             B         3.90          1.30         0.40   
17    18             A         3.50          1.40         0.30   
18    19             B         3.80          1.70         0.30   
19    20             A         3.80          1.50         0.30   
20    21             B         3.40          1.70         0.20   
21    22             A         3.70          1.50         0.40   
22    23             A         3.60          1.00         0.20   
23    24             A         3.30          1.70         0.50   
24    25             A         3.40          1.90         0.20   
25    26             A         3.00          1.60         0.20   
26    27             A         3.40          1.60         0.40   
27    28             A         3.50          1.50         0.20   
28    29             A         3.40          1.40         0.20   
29    30             A         3.20          1.60         0.20   
30    31             A         3.10          1.60         0.20   
31    32             B         3.40          1.50         0.40   
32    33             A         4.10          1.50         0.10   
33    34             B         4.20          1.40         0.20   
34    35             A         3.10          1.50         0.10   
35    36             A         3.20          1.20         0.20   
36    37             B         3.50          1.30         0.20   
37    38             A         3.10          1.50         0.10   
38    39             A         3.00          1.30         0.20   
39    40             A         3.40          1.50         0.20   
40    41             A         3.50          1.30         0.30   
41    42             A         2.30          1.30         0.30   
42    43             A         3.20          1.30         0.20   
43    44             A         3.50          1.60         0.60   
44    45             A         3.80          1.90         0.40   
45    46             A         3.00          1.40         0.30   
46    47             A         3.80          1.60         0.20   
47    48             A         3.20          1.40         0.20   
48    49             B         3.70          1.50         0.20   
49    50             A         3.30          1.40         0.20   
50    51             D         3.20          4.70         1.40   
51    52             C         3.20          4.50         1.50   
52    53             D         3.10          4.90         1.50   
53    54             B         2.30          4.00         1.30   
54    55             C         2.80          4.60         1.50   
55    56             B         2.80          4.50         1.30   
56    57             C         3.30          4.70         1.60   
57    58             A         2.40          3.30         1.00   
58    59             C         2.90          4.60         1.30   
59    60             A         2.70          3.90         1.40   
60    61             A         2.00          3.50         1.00   
61    62             B         3.00          4.20         1.50   
62    63             C         2.20          4.00         1.00   
63    64             C         2.90          4.70         1.40   
64    65             B         2.90          3.60         1.30   
65    66             C         3.10          4.40         1.40   
66    67             B         3.00          4.50         1.50   
67    68             B         2.70          4.10         1.00   
68    69             C         2.20          4.50         1.50   
69    70             B         2.50          3.90         1.10   
70    71             B         3.20          4.80         1.80   
71    72             C         2.80          4.00         1.30   
72    73             C         2.50          4.90         1.50   
73    74             C         2.80          4.70         1.20   
74    75             C         2.90          4.30         1.30   
75    76             C         3.00          4.40         1.40   
76    77             D         2.80          4.80         1.40   
77    78             C         3.00          5.00         1.70   
78    79             C         2.90          4.50         1.50   
79    80             B         2.60          3.50         1.00   
80    81             B         2.40          3.80         1.10   
81    82             B         2.40          3.70         1.00   
82    83             B         2.70          3.90         1.20   
83    84             C         2.70          5.10         1.60   
84    85             B         3.00          4.50         1.50   
85    86             C         3.40          4.50         1.60   
86    87             C         3.10          4.70         1.50   
87    88             C         2.30          4.40         1.30   
88    89             B         3.00          4.10         1.30   
89    90             B         2.50          4.00         1.30   
90    91             B         2.60          4.40         1.20   
91    92             C         3.00          4.60         1.40   
92    93             B         2.60          4.00         1.20   
93    94             A         2.30          3.30         1.00   
94    95             B         2.70          4.20         1.30   
95    96             B         3.00          4.20         1.20   
96    97             B         2.90          4.20         1.30   
97    98             C         2.90          4.30         1.30   
98    99             A         2.50          3.00         1.10   
99   100             B         2.80          4.10         1.30   
100  101             C         3.30          6.00         2.50   
101  102             B         2.70          5.10         1.90   
102  103             D         3.00          5.90         2.10   
103  104             C         2.90          5.60         1.80   
104  105             C         3.00          5.80         2.20   
105  106             D         3.00          6.60         2.10   
106  107             A         2.50          4.50         1.70   
107  108             D         2.90          6.30         1.80   
108  109             C         2.50          5.80         1.80   
109  110             D         3.60          6.10         2.50   
110  111             C         3.20          5.10         2.00   
111  112             C         2.70          5.30         1.90   
112  113             D         3.00          5.50         2.10   
113  114             B         2.50          5.00         2.00   
114  115             B         2.80          5.10         2.40   
115  116             C         3.20          5.30         2.30   
116  117             C         3.00          5.50         1.80   
117  118             D         3.80          6.70         2.20   
118  119             D         2.60          6.90         2.30   
119  120             C         2.20          5.00         1.50   
120  121             D         3.20          5.70         2.30   
121  122             B         2.80          4.90         2.00   
122  123             D         2.80          6.70         2.00   
123  124             C         2.70          4.90         1.80   
124  125             C         3.30          5.70         2.10   
125  126             D         3.20          6.00         1.80   
126  127             C         2.80          4.80         1.80   
127  128             C         3.00          4.90         1.80   
128  129             C         2.80          5.60         2.10   
129  130             D         3.00          5.80         1.60   
130  131             D         2.80          6.10         1.90   
131  132             D         3.80          6.40         2.00   
132  133             C         2.80          5.60         2.20   
133  134             C         2.80          5.10         1.50   
134  135             C         2.60          5.60         1.40   
135  136             D         3.00          6.10         2.30   
136  137             C         3.40          5.60         2.40   
137  138             C         3.10          5.50         1.80   
138  139             C         3.00          4.80         1.80   
139  140             D         3.10          5.40         2.10   
140  141             C         3.10          5.60         2.40   
141  142             D         3.10          5.10         2.30   
142  143             B         2.70          5.10         1.90   
143  144             D         3.20          5.90         2.30   
144  145             C         3.30          5.70         2.50   
145  146             C         3.00          5.20         2.30   
146  147             C         2.50          5.00         1.90   
147  148             C         3.00          5.20         2.00   
148  149             C         3.40          5.40         2.30   
149  150             B         3.00          5.10         1.80   

             species  
0        Iris-setosa  
1        Iris-setosa  
2        Iris-setosa  
3        Iris-setosa  
4        Iris-setosa  
5        Iris-setosa  
6        Iris-setosa  
7        Iris-setosa  
8        Iris-setosa  
9        Iris-setosa  
10       Iris-setosa  
11       Iris-setosa  
12       Iris-setosa  
13       Iris-setosa  
14       Iris-setosa  
15       Iris-setosa  
16       Iris-setosa  
17       Iris-setosa  
18       Iris-setosa  
19       Iris-setosa  
20       Iris-setosa  
21       Iris-setosa  
22       Iris-setosa  
23       Iris-setosa  
24       Iris-setosa  
25       Iris-setosa  
26       Iris-setosa  
27       Iris-setosa  
28       Iris-setosa  
29       Iris-setosa  
30       Iris-setosa  
31       Iris-setosa  
32       Iris-setosa  
33       Iris-setosa  
34       Iris-setosa  
35       Iris-setosa  
36       Iris-setosa  
37       Iris-setosa  
38       Iris-setosa  
39       Iris-setosa  
40       Iris-setosa  
41       Iris-setosa  
42       Iris-setosa  
43       Iris-setosa  
44       Iris-setosa  
45       Iris-setosa  
46       Iris-setosa  
47       Iris-setosa  
48       Iris-setosa  
49       Iris-setosa  
50   Iris-versicolor  
51   Iris-versicolor  
52   Iris-versicolor  
53   Iris-versicolor  
54   Iris-versicolor  
55   Iris-versicolor  
56   Iris-versicolor  
57   Iris-versicolor  
58   Iris-versicolor  
59   Iris-versicolor  
60   Iris-versicolor  
61   Iris-versicolor  
62   Iris-versicolor  
63   Iris-versicolor  
64   Iris-versicolor  
65   Iris-versicolor  
66   Iris-versicolor  
67   Iris-versicolor  
68   Iris-versicolor  
69   Iris-versicolor  
70   Iris-versicolor  
71   Iris-versicolor  
72   Iris-versicolor  
73   Iris-versicolor  
74   Iris-versicolor  
75   Iris-versicolor  
76   Iris-versicolor  
77   Iris-versicolor  
78   Iris-versicolor  
79   Iris-versicolor  
80   Iris-versicolor  
81   Iris-versicolor  
82   Iris-versicolor  
83   Iris-versicolor  
84   Iris-versicolor  
85   Iris-versicolor  
86   Iris-versicolor  
87   Iris-versicolor  
88   Iris-versicolor  
89   Iris-versicolor  
90   Iris-versicolor  
91   Iris-versicolor  
92   Iris-versicolor  
93   Iris-versicolor  
94   Iris-versicolor  
95   Iris-versicolor  
96   Iris-versicolor  
97   Iris-versicolor  
98   Iris-versicolor  
99   Iris-versicolor  
100   Iris-virginica  
101   Iris-virginica  
102   Iris-virginica  
103   Iris-virginica  
104   Iris-virginica  
105   Iris-virginica  
106   Iris-virginica  
107   Iris-virginica  
108   Iris-virginica  
109   Iris-virginica  
110   Iris-virginica  
111   Iris-virginica  
112   Iris-virginica  
113   Iris-virginica  
114   Iris-virginica  
115   Iris-virginica  
116   Iris-virginica  
117   Iris-virginica  
118   Iris-virginica  
119   Iris-virginica  
120   Iris-virginica  
121   Iris-virginica  
122   Iris-virginica  
123   Iris-virginica  
124   Iris-virginica  
125   Iris-virginica  
126   Iris-virginica  
127   Iris-virginica  
128   Iris-virginica  
129   Iris-virginica  
130   Iris-virginica  
131   Iris-virginica  
132   Iris-virginica  
133   Iris-virginica  
134   Iris-virginica  
135   Iris-virginica  
136   Iris-virginica  
137   Iris-virginica  
138   Iris-virginica  
139   Iris-virginica  
140   Iris-virginica  
141   Iris-virginica  
142   Iris-virginica  
143   Iris-virginica  
144   Iris-virginica  
145   Iris-virginica  
146   Iris-virginica  
147   Iris-virginica  
148   Iris-virginica  
149   Iris-virginica  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    SepalWidthCm
0           3.50
1           3.00
2           3.20
3           3.10
4           3.60
5           3.90
6           3.40
7           3.40
8           2.90
9           3.10
10          3.70
11          3.40
12          3.00
13          3.00
14          4.00
15          4.40
16          3.90
17          3.50
18          3.80
19          3.80
20          3.40
21          3.70
22          3.60
23          3.30
24          3.40
25          3.00
26          3.40
27          3.50
28          3.40
29          3.20
30          3.10
31          3.40
32          4.10
33          4.20
34          3.10
35          3.20
36          3.50
37          3.10
38          3.00
39          3.40
40          3.50
41          2.30
42          3.20
43          3.50
44          3.80
45          3.00
46          3.80
47          3.20
48          3.70
49          3.30
50          3.20
51          3.20
52          3.10
53          2.30
54          2.80
55          2.80
56          3.30
57          2.40
58          2.90
59          2.70
60          2.00
61          3.00
62          2.20
63          2.90
64          2.90
65          3.10
66          3.00
67          2.70
68          2.20
69          2.50
70          3.20
71          2.80
72          2.50
73          2.80
74          2.90
75          3.00
76          2.80
77          3.00
78          2.90
79          2.60
80          2.40
81          2.40
82          2.70
83          2.70
84          3.00
85          3.40
86          3.10
87          2.30
88          3.00
89          2.50
90          2.60
91          3.00
92          2.60
93          2.30
94          2.70
95          3.00
96          2.90
97          2.90
98          2.50
99          2.80
100         3.30
101         2.70
102         3.00
103         2.90
104         3.00
105         3.00
106         2.50
107         2.90
108         2.50
109         3.60
110         3.20
111         2.70
112         3.00
113         2.50
114         2.80
115         3.20
116         3.00
117         3.80
118         2.60
119         2.20
120         3.20
121         2.80
122         2.80
123         2.70
124         3.30
125         3.20
126         2.80
127         3.00
128         2.80
129         3.00
130         2.80
131         3.80
132         2.80
133         2.80
134         2.60
135         3.00
136         3.40
137         3.10
138         3.00
139         3.10
140         3.10
141         3.10
142         2.70
143         3.20
144         3.30
145         3.00
146         2.50
147         3.00
148         3.40
149         3.00
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Pastikan kolom numerik</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Terapkan KMeans dengan 3 cluster</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]])</span>

<span class="c1"># Urutkan cluster berdasarkan rata-rata sepal width</span>
<span class="n">cluster_centers</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">cluster_centers</span><span class="p">)</span>
<span class="n">cluster_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">old</span><span class="p">:</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">old</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_indices</span><span class="p">)}</span>  <span class="c1"># A, B, C</span>

<span class="c1"># Ganti label cluster dengan huruf AC</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">cluster_map</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">]</span>

<span class="c1"># Cek hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    SepalWidthCm
0              C
1              B
2              B
3              B
4              C
5              C
6              C
7              C
8              B
9              B
10             C
11             C
12             B
13             B
14             C
15             C
16             C
17             C
18             C
19             C
20             C
21             C
22             C
23             C
24             C
25             B
26             C
27             C
28             C
29             B
30             B
31             C
32             C
33             C
34             B
35             B
36             C
37             B
38             B
39             C
40             C
41             A
42             B
43             C
44             C
45             B
46             C
47             B
48             C
49             C
50             B
51             B
52             B
53             A
54             B
55             B
56             C
57             A
58             B
59             A
60             A
61             B
62             A
63             B
64             B
65             B
66             B
67             A
68             A
69             A
70             B
71             B
72             A
73             B
74             B
75             B
76             B
77             B
78             B
79             A
80             A
81             A
82             A
83             A
84             B
85             C
86             B
87             A
88             B
89             A
90             A
91             B
92             A
93             A
94             A
95             B
96             B
97             B
98             A
99             B
100            C
101            A
102            B
103            B
104            B
105            B
106            A
107            B
108            A
109            C
110            B
111            A
112            B
113            A
114            B
115            B
116            B
117            C
118            A
119            A
120            B
121            B
122            B
123            A
124            C
125            B
126            B
127            B
128            B
129            B
130            B
131            C
132            B
133            B
134            A
135            B
136            C
137            B
138            B
139            B
140            B
141            B
142            A
143            B
144            C
145            B
146            A
147            B
148            C
149            B
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      id SepalLengthCm SepalWidthCm PetalLengthCm PetalWidthCm  \
0      1             A            C          1.40         0.20   
1      2             A            B          1.40         0.20   
2      3             A            B          1.30         0.20   
3      4             A            B          1.50         0.20   
4      5             A            C          1.40         0.20   
5      6             B            C          1.70         0.40   
6      7             A            C          1.40         0.30   
7      8             A            C          1.50         0.20   
8      9             A            B          1.40         0.20   
9     10             A            B          1.50         0.10   
10    11             B            C          1.50         0.20   
11    12             A            C          1.60         0.20   
12    13             A            B          1.40         0.10   
13    14             A            B          1.10         0.10   
14    15             B            C          1.20         0.20   
15    16             B            C          1.50         0.40   
16    17             B            C          1.30         0.40   
17    18             A            C          1.40         0.30   
18    19             B            C          1.70         0.30   
19    20             A            C          1.50         0.30   
20    21             B            C          1.70         0.20   
21    22             A            C          1.50         0.40   
22    23             A            C          1.00         0.20   
23    24             A            C          1.70         0.50   
24    25             A            C          1.90         0.20   
25    26             A            B          1.60         0.20   
26    27             A            C          1.60         0.40   
27    28             A            C          1.50         0.20   
28    29             A            C          1.40         0.20   
29    30             A            B          1.60         0.20   
30    31             A            B          1.60         0.20   
31    32             B            C          1.50         0.40   
32    33             A            C          1.50         0.10   
33    34             B            C          1.40         0.20   
34    35             A            B          1.50         0.10   
35    36             A            B          1.20         0.20   
36    37             B            C          1.30         0.20   
37    38             A            B          1.50         0.10   
38    39             A            B          1.30         0.20   
39    40             A            C          1.50         0.20   
40    41             A            C          1.30         0.30   
41    42             A            A          1.30         0.30   
42    43             A            B          1.30         0.20   
43    44             A            C          1.60         0.60   
44    45             A            C          1.90         0.40   
45    46             A            B          1.40         0.30   
46    47             A            C          1.60         0.20   
47    48             A            B          1.40         0.20   
48    49             B            C          1.50         0.20   
49    50             A            C          1.40         0.20   
50    51             D            B          4.70         1.40   
51    52             C            B          4.50         1.50   
52    53             D            B          4.90         1.50   
53    54             B            A          4.00         1.30   
54    55             C            B          4.60         1.50   
55    56             B            B          4.50         1.30   
56    57             C            C          4.70         1.60   
57    58             A            A          3.30         1.00   
58    59             C            B          4.60         1.30   
59    60             A            A          3.90         1.40   
60    61             A            A          3.50         1.00   
61    62             B            B          4.20         1.50   
62    63             C            A          4.00         1.00   
63    64             C            B          4.70         1.40   
64    65             B            B          3.60         1.30   
65    66             C            B          4.40         1.40   
66    67             B            B          4.50         1.50   
67    68             B            A          4.10         1.00   
68    69             C            A          4.50         1.50   
69    70             B            A          3.90         1.10   
70    71             B            B          4.80         1.80   
71    72             C            B          4.00         1.30   
72    73             C            A          4.90         1.50   
73    74             C            B          4.70         1.20   
74    75             C            B          4.30         1.30   
75    76             C            B          4.40         1.40   
76    77             D            B          4.80         1.40   
77    78             C            B          5.00         1.70   
78    79             C            B          4.50         1.50   
79    80             B            A          3.50         1.00   
80    81             B            A          3.80         1.10   
81    82             B            A          3.70         1.00   
82    83             B            A          3.90         1.20   
83    84             C            A          5.10         1.60   
84    85             B            B          4.50         1.50   
85    86             C            C          4.50         1.60   
86    87             C            B          4.70         1.50   
87    88             C            A          4.40         1.30   
88    89             B            B          4.10         1.30   
89    90             B            A          4.00         1.30   
90    91             B            A          4.40         1.20   
91    92             C            B          4.60         1.40   
92    93             B            A          4.00         1.20   
93    94             A            A          3.30         1.00   
94    95             B            A          4.20         1.30   
95    96             B            B          4.20         1.20   
96    97             B            B          4.20         1.30   
97    98             C            B          4.30         1.30   
98    99             A            A          3.00         1.10   
99   100             B            B          4.10         1.30   
100  101             C            C          6.00         2.50   
101  102             B            A          5.10         1.90   
102  103             D            B          5.90         2.10   
103  104             C            B          5.60         1.80   
104  105             C            B          5.80         2.20   
105  106             D            B          6.60         2.10   
106  107             A            A          4.50         1.70   
107  108             D            B          6.30         1.80   
108  109             C            A          5.80         1.80   
109  110             D            C          6.10         2.50   
110  111             C            B          5.10         2.00   
111  112             C            A          5.30         1.90   
112  113             D            B          5.50         2.10   
113  114             B            A          5.00         2.00   
114  115             B            B          5.10         2.40   
115  116             C            B          5.30         2.30   
116  117             C            B          5.50         1.80   
117  118             D            C          6.70         2.20   
118  119             D            A          6.90         2.30   
119  120             C            A          5.00         1.50   
120  121             D            B          5.70         2.30   
121  122             B            B          4.90         2.00   
122  123             D            B          6.70         2.00   
123  124             C            A          4.90         1.80   
124  125             C            C          5.70         2.10   
125  126             D            B          6.00         1.80   
126  127             C            B          4.80         1.80   
127  128             C            B          4.90         1.80   
128  129             C            B          5.60         2.10   
129  130             D            B          5.80         1.60   
130  131             D            B          6.10         1.90   
131  132             D            C          6.40         2.00   
132  133             C            B          5.60         2.20   
133  134             C            B          5.10         1.50   
134  135             C            A          5.60         1.40   
135  136             D            B          6.10         2.30   
136  137             C            C          5.60         2.40   
137  138             C            B          5.50         1.80   
138  139             C            B          4.80         1.80   
139  140             D            B          5.40         2.10   
140  141             C            B          5.60         2.40   
141  142             D            B          5.10         2.30   
142  143             B            A          5.10         1.90   
143  144             D            B          5.90         2.30   
144  145             C            C          5.70         2.50   
145  146             C            B          5.20         2.30   
146  147             C            A          5.00         1.90   
147  148             C            B          5.20         2.00   
148  149             C            C          5.40         2.30   
149  150             B            B          5.10         1.80   

             species  
0        Iris-setosa  
1        Iris-setosa  
2        Iris-setosa  
3        Iris-setosa  
4        Iris-setosa  
5        Iris-setosa  
6        Iris-setosa  
7        Iris-setosa  
8        Iris-setosa  
9        Iris-setosa  
10       Iris-setosa  
11       Iris-setosa  
12       Iris-setosa  
13       Iris-setosa  
14       Iris-setosa  
15       Iris-setosa  
16       Iris-setosa  
17       Iris-setosa  
18       Iris-setosa  
19       Iris-setosa  
20       Iris-setosa  
21       Iris-setosa  
22       Iris-setosa  
23       Iris-setosa  
24       Iris-setosa  
25       Iris-setosa  
26       Iris-setosa  
27       Iris-setosa  
28       Iris-setosa  
29       Iris-setosa  
30       Iris-setosa  
31       Iris-setosa  
32       Iris-setosa  
33       Iris-setosa  
34       Iris-setosa  
35       Iris-setosa  
36       Iris-setosa  
37       Iris-setosa  
38       Iris-setosa  
39       Iris-setosa  
40       Iris-setosa  
41       Iris-setosa  
42       Iris-setosa  
43       Iris-setosa  
44       Iris-setosa  
45       Iris-setosa  
46       Iris-setosa  
47       Iris-setosa  
48       Iris-setosa  
49       Iris-setosa  
50   Iris-versicolor  
51   Iris-versicolor  
52   Iris-versicolor  
53   Iris-versicolor  
54   Iris-versicolor  
55   Iris-versicolor  
56   Iris-versicolor  
57   Iris-versicolor  
58   Iris-versicolor  
59   Iris-versicolor  
60   Iris-versicolor  
61   Iris-versicolor  
62   Iris-versicolor  
63   Iris-versicolor  
64   Iris-versicolor  
65   Iris-versicolor  
66   Iris-versicolor  
67   Iris-versicolor  
68   Iris-versicolor  
69   Iris-versicolor  
70   Iris-versicolor  
71   Iris-versicolor  
72   Iris-versicolor  
73   Iris-versicolor  
74   Iris-versicolor  
75   Iris-versicolor  
76   Iris-versicolor  
77   Iris-versicolor  
78   Iris-versicolor  
79   Iris-versicolor  
80   Iris-versicolor  
81   Iris-versicolor  
82   Iris-versicolor  
83   Iris-versicolor  
84   Iris-versicolor  
85   Iris-versicolor  
86   Iris-versicolor  
87   Iris-versicolor  
88   Iris-versicolor  
89   Iris-versicolor  
90   Iris-versicolor  
91   Iris-versicolor  
92   Iris-versicolor  
93   Iris-versicolor  
94   Iris-versicolor  
95   Iris-versicolor  
96   Iris-versicolor  
97   Iris-versicolor  
98   Iris-versicolor  
99   Iris-versicolor  
100   Iris-virginica  
101   Iris-virginica  
102   Iris-virginica  
103   Iris-virginica  
104   Iris-virginica  
105   Iris-virginica  
106   Iris-virginica  
107   Iris-virginica  
108   Iris-virginica  
109   Iris-virginica  
110   Iris-virginica  
111   Iris-virginica  
112   Iris-virginica  
113   Iris-virginica  
114   Iris-virginica  
115   Iris-virginica  
116   Iris-virginica  
117   Iris-virginica  
118   Iris-virginica  
119   Iris-virginica  
120   Iris-virginica  
121   Iris-virginica  
122   Iris-virginica  
123   Iris-virginica  
124   Iris-virginica  
125   Iris-virginica  
126   Iris-virginica  
127   Iris-virginica  
128   Iris-virginica  
129   Iris-virginica  
130   Iris-virginica  
131   Iris-virginica  
132   Iris-virginica  
133   Iris-virginica  
134   Iris-virginica  
135   Iris-virginica  
136   Iris-virginica  
137   Iris-virginica  
138   Iris-virginica  
139   Iris-virginica  
140   Iris-virginica  
141   Iris-virginica  
142   Iris-virginica  
143   Iris-virginica  
144   Iris-virginica  
145   Iris-virginica  
146   Iris-virginica  
147   Iris-virginica  
148   Iris-virginica  
149   Iris-virginica  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    PetalLengthCm
0            1.40
1            1.40
2            1.30
3            1.50
4            1.40
5            1.70
6            1.40
7            1.50
8            1.40
9            1.50
10           1.50
11           1.60
12           1.40
13           1.10
14           1.20
15           1.50
16           1.30
17           1.40
18           1.70
19           1.50
20           1.70
21           1.50
22           1.00
23           1.70
24           1.90
25           1.60
26           1.60
27           1.50
28           1.40
29           1.60
30           1.60
31           1.50
32           1.50
33           1.40
34           1.50
35           1.20
36           1.30
37           1.50
38           1.30
39           1.50
40           1.30
41           1.30
42           1.30
43           1.60
44           1.90
45           1.40
46           1.60
47           1.40
48           1.50
49           1.40
50           4.70
51           4.50
52           4.90
53           4.00
54           4.60
55           4.50
56           4.70
57           3.30
58           4.60
59           3.90
60           3.50
61           4.20
62           4.00
63           4.70
64           3.60
65           4.40
66           4.50
67           4.10
68           4.50
69           3.90
70           4.80
71           4.00
72           4.90
73           4.70
74           4.30
75           4.40
76           4.80
77           5.00
78           4.50
79           3.50
80           3.80
81           3.70
82           3.90
83           5.10
84           4.50
85           4.50
86           4.70
87           4.40
88           4.10
89           4.00
90           4.40
91           4.60
92           4.00
93           3.30
94           4.20
95           4.20
96           4.20
97           4.30
98           3.00
99           4.10
100          6.00
101          5.10
102          5.90
103          5.60
104          5.80
105          6.60
106          4.50
107          6.30
108          5.80
109          6.10
110          5.10
111          5.30
112          5.50
113          5.00
114          5.10
115          5.30
116          5.50
117          6.70
118          6.90
119          5.00
120          5.70
121          4.90
122          6.70
123          4.90
124          5.70
125          6.00
126          4.80
127          4.90
128          5.60
129          5.80
130          6.10
131          6.40
132          5.60
133          5.10
134          5.60
135          6.10
136          5.60
137          5.50
138          4.80
139          5.40
140          5.60
141          5.10
142          5.10
143          5.90
144          5.70
145          5.20
146          5.00
147          5.20
148          5.40
149          5.10
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Pastikan kolom numerik</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Terapkan KMeans dengan 4 cluster</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]])</span>

<span class="c1"># Urutkan cluster berdasarkan rata-rata sepal width</span>
<span class="n">cluster_centers</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">cluster_centers</span><span class="p">)</span>
<span class="n">cluster_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">old</span><span class="p">:</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">old</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_indices</span><span class="p">)}</span>  <span class="c1"># A, B, C, D</span>

<span class="c1"># Ganti label cluster dengan huruf AD</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">cluster_map</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">]</span>

<span class="c1"># Cek hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    PetalLengthCm
0               A
1               A
2               A
3               A
4               A
5               A
6               A
7               A
8               A
9               A
10              A
11              A
12              A
13              A
14              A
15              A
16              A
17              A
18              A
19              A
20              A
21              A
22              A
23              A
24              A
25              A
26              A
27              A
28              A
29              A
30              A
31              A
32              A
33              A
34              A
35              A
36              A
37              A
38              A
39              A
40              A
41              A
42              A
43              A
44              A
45              A
46              A
47              A
48              A
49              A
50              C
51              C
52              C
53              B
54              C
55              C
56              C
57              B
58              C
59              B
60              B
61              B
62              B
63              C
64              B
65              C
66              C
67              B
68              C
69              B
70              C
71              B
72              C
73              C
74              B
75              C
76              C
77              C
78              C
79              B
80              B
81              B
82              B
83              C
84              C
85              C
86              C
87              C
88              B
89              B
90              C
91              C
92              B
93              B
94              B
95              B
96              B
97              B
98              B
99              B
100             D
101             C
102             D
103             D
104             D
105             D
106             C
107             D
108             D
109             D
110             C
111             C
112             D
113             C
114             C
115             C
116             D
117             D
118             D
119             C
120             D
121             C
122             D
123             C
124             D
125             D
126             C
127             C
128             D
129             D
130             D
131             D
132             D
133             C
134             D
135             D
136             D
137             D
138             C
139             D
140             D
141             C
142             C
143             D
144             D
145             C
146             C
147             C
148             D
149             C
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      id SepalLengthCm SepalWidthCm PetalLengthCm PetalWidthCm  \
0      1             A            C             A         0.20   
1      2             A            B             A         0.20   
2      3             A            B             A         0.20   
3      4             A            B             A         0.20   
4      5             A            C             A         0.20   
5      6             B            C             A         0.40   
6      7             A            C             A         0.30   
7      8             A            C             A         0.20   
8      9             A            B             A         0.20   
9     10             A            B             A         0.10   
10    11             B            C             A         0.20   
11    12             A            C             A         0.20   
12    13             A            B             A         0.10   
13    14             A            B             A         0.10   
14    15             B            C             A         0.20   
15    16             B            C             A         0.40   
16    17             B            C             A         0.40   
17    18             A            C             A         0.30   
18    19             B            C             A         0.30   
19    20             A            C             A         0.30   
20    21             B            C             A         0.20   
21    22             A            C             A         0.40   
22    23             A            C             A         0.20   
23    24             A            C             A         0.50   
24    25             A            C             A         0.20   
25    26             A            B             A         0.20   
26    27             A            C             A         0.40   
27    28             A            C             A         0.20   
28    29             A            C             A         0.20   
29    30             A            B             A         0.20   
30    31             A            B             A         0.20   
31    32             B            C             A         0.40   
32    33             A            C             A         0.10   
33    34             B            C             A         0.20   
34    35             A            B             A         0.10   
35    36             A            B             A         0.20   
36    37             B            C             A         0.20   
37    38             A            B             A         0.10   
38    39             A            B             A         0.20   
39    40             A            C             A         0.20   
40    41             A            C             A         0.30   
41    42             A            A             A         0.30   
42    43             A            B             A         0.20   
43    44             A            C             A         0.60   
44    45             A            C             A         0.40   
45    46             A            B             A         0.30   
46    47             A            C             A         0.20   
47    48             A            B             A         0.20   
48    49             B            C             A         0.20   
49    50             A            C             A         0.20   
50    51             D            B             C         1.40   
51    52             C            B             C         1.50   
52    53             D            B             C         1.50   
53    54             B            A             B         1.30   
54    55             C            B             C         1.50   
55    56             B            B             C         1.30   
56    57             C            C             C         1.60   
57    58             A            A             B         1.00   
58    59             C            B             C         1.30   
59    60             A            A             B         1.40   
60    61             A            A             B         1.00   
61    62             B            B             B         1.50   
62    63             C            A             B         1.00   
63    64             C            B             C         1.40   
64    65             B            B             B         1.30   
65    66             C            B             C         1.40   
66    67             B            B             C         1.50   
67    68             B            A             B         1.00   
68    69             C            A             C         1.50   
69    70             B            A             B         1.10   
70    71             B            B             C         1.80   
71    72             C            B             B         1.30   
72    73             C            A             C         1.50   
73    74             C            B             C         1.20   
74    75             C            B             B         1.30   
75    76             C            B             C         1.40   
76    77             D            B             C         1.40   
77    78             C            B             C         1.70   
78    79             C            B             C         1.50   
79    80             B            A             B         1.00   
80    81             B            A             B         1.10   
81    82             B            A             B         1.00   
82    83             B            A             B         1.20   
83    84             C            A             C         1.60   
84    85             B            B             C         1.50   
85    86             C            C             C         1.60   
86    87             C            B             C         1.50   
87    88             C            A             C         1.30   
88    89             B            B             B         1.30   
89    90             B            A             B         1.30   
90    91             B            A             C         1.20   
91    92             C            B             C         1.40   
92    93             B            A             B         1.20   
93    94             A            A             B         1.00   
94    95             B            A             B         1.30   
95    96             B            B             B         1.20   
96    97             B            B             B         1.30   
97    98             C            B             B         1.30   
98    99             A            A             B         1.10   
99   100             B            B             B         1.30   
100  101             C            C             D         2.50   
101  102             B            A             C         1.90   
102  103             D            B             D         2.10   
103  104             C            B             D         1.80   
104  105             C            B             D         2.20   
105  106             D            B             D         2.10   
106  107             A            A             C         1.70   
107  108             D            B             D         1.80   
108  109             C            A             D         1.80   
109  110             D            C             D         2.50   
110  111             C            B             C         2.00   
111  112             C            A             C         1.90   
112  113             D            B             D         2.10   
113  114             B            A             C         2.00   
114  115             B            B             C         2.40   
115  116             C            B             C         2.30   
116  117             C            B             D         1.80   
117  118             D            C             D         2.20   
118  119             D            A             D         2.30   
119  120             C            A             C         1.50   
120  121             D            B             D         2.30   
121  122             B            B             C         2.00   
122  123             D            B             D         2.00   
123  124             C            A             C         1.80   
124  125             C            C             D         2.10   
125  126             D            B             D         1.80   
126  127             C            B             C         1.80   
127  128             C            B             C         1.80   
128  129             C            B             D         2.10   
129  130             D            B             D         1.60   
130  131             D            B             D         1.90   
131  132             D            C             D         2.00   
132  133             C            B             D         2.20   
133  134             C            B             C         1.50   
134  135             C            A             D         1.40   
135  136             D            B             D         2.30   
136  137             C            C             D         2.40   
137  138             C            B             D         1.80   
138  139             C            B             C         1.80   
139  140             D            B             D         2.10   
140  141             C            B             D         2.40   
141  142             D            B             C         2.30   
142  143             B            A             C         1.90   
143  144             D            B             D         2.30   
144  145             C            C             D         2.50   
145  146             C            B             C         2.30   
146  147             C            A             C         1.90   
147  148             C            B             C         2.00   
148  149             C            C             D         2.30   
149  150             B            B             C         1.80   

             species  
0        Iris-setosa  
1        Iris-setosa  
2        Iris-setosa  
3        Iris-setosa  
4        Iris-setosa  
5        Iris-setosa  
6        Iris-setosa  
7        Iris-setosa  
8        Iris-setosa  
9        Iris-setosa  
10       Iris-setosa  
11       Iris-setosa  
12       Iris-setosa  
13       Iris-setosa  
14       Iris-setosa  
15       Iris-setosa  
16       Iris-setosa  
17       Iris-setosa  
18       Iris-setosa  
19       Iris-setosa  
20       Iris-setosa  
21       Iris-setosa  
22       Iris-setosa  
23       Iris-setosa  
24       Iris-setosa  
25       Iris-setosa  
26       Iris-setosa  
27       Iris-setosa  
28       Iris-setosa  
29       Iris-setosa  
30       Iris-setosa  
31       Iris-setosa  
32       Iris-setosa  
33       Iris-setosa  
34       Iris-setosa  
35       Iris-setosa  
36       Iris-setosa  
37       Iris-setosa  
38       Iris-setosa  
39       Iris-setosa  
40       Iris-setosa  
41       Iris-setosa  
42       Iris-setosa  
43       Iris-setosa  
44       Iris-setosa  
45       Iris-setosa  
46       Iris-setosa  
47       Iris-setosa  
48       Iris-setosa  
49       Iris-setosa  
50   Iris-versicolor  
51   Iris-versicolor  
52   Iris-versicolor  
53   Iris-versicolor  
54   Iris-versicolor  
55   Iris-versicolor  
56   Iris-versicolor  
57   Iris-versicolor  
58   Iris-versicolor  
59   Iris-versicolor  
60   Iris-versicolor  
61   Iris-versicolor  
62   Iris-versicolor  
63   Iris-versicolor  
64   Iris-versicolor  
65   Iris-versicolor  
66   Iris-versicolor  
67   Iris-versicolor  
68   Iris-versicolor  
69   Iris-versicolor  
70   Iris-versicolor  
71   Iris-versicolor  
72   Iris-versicolor  
73   Iris-versicolor  
74   Iris-versicolor  
75   Iris-versicolor  
76   Iris-versicolor  
77   Iris-versicolor  
78   Iris-versicolor  
79   Iris-versicolor  
80   Iris-versicolor  
81   Iris-versicolor  
82   Iris-versicolor  
83   Iris-versicolor  
84   Iris-versicolor  
85   Iris-versicolor  
86   Iris-versicolor  
87   Iris-versicolor  
88   Iris-versicolor  
89   Iris-versicolor  
90   Iris-versicolor  
91   Iris-versicolor  
92   Iris-versicolor  
93   Iris-versicolor  
94   Iris-versicolor  
95   Iris-versicolor  
96   Iris-versicolor  
97   Iris-versicolor  
98   Iris-versicolor  
99   Iris-versicolor  
100   Iris-virginica  
101   Iris-virginica  
102   Iris-virginica  
103   Iris-virginica  
104   Iris-virginica  
105   Iris-virginica  
106   Iris-virginica  
107   Iris-virginica  
108   Iris-virginica  
109   Iris-virginica  
110   Iris-virginica  
111   Iris-virginica  
112   Iris-virginica  
113   Iris-virginica  
114   Iris-virginica  
115   Iris-virginica  
116   Iris-virginica  
117   Iris-virginica  
118   Iris-virginica  
119   Iris-virginica  
120   Iris-virginica  
121   Iris-virginica  
122   Iris-virginica  
123   Iris-virginica  
124   Iris-virginica  
125   Iris-virginica  
126   Iris-virginica  
127   Iris-virginica  
128   Iris-virginica  
129   Iris-virginica  
130   Iris-virginica  
131   Iris-virginica  
132   Iris-virginica  
133   Iris-virginica  
134   Iris-virginica  
135   Iris-virginica  
136   Iris-virginica  
137   Iris-virginica  
138   Iris-virginica  
139   Iris-virginica  
140   Iris-virginica  
141   Iris-virginica  
142   Iris-virginica  
143   Iris-virginica  
144   Iris-virginica  
145   Iris-virginica  
146   Iris-virginica  
147   Iris-virginica  
148   Iris-virginica  
149   Iris-virginica  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_rows&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    PetalWidthCm
0           0.20
1           0.20
2           0.20
3           0.20
4           0.20
5           0.40
6           0.30
7           0.20
8           0.20
9           0.10
10          0.20
11          0.20
12          0.10
13          0.10
14          0.20
15          0.40
16          0.40
17          0.30
18          0.30
19          0.30
20          0.20
21          0.40
22          0.20
23          0.50
24          0.20
25          0.20
26          0.40
27          0.20
28          0.20
29          0.20
30          0.20
31          0.40
32          0.10
33          0.20
34          0.10
35          0.20
36          0.20
37          0.10
38          0.20
39          0.20
40          0.30
41          0.30
42          0.20
43          0.60
44          0.40
45          0.30
46          0.20
47          0.20
48          0.20
49          0.20
50          1.40
51          1.50
52          1.50
53          1.30
54          1.50
55          1.30
56          1.60
57          1.00
58          1.30
59          1.40
60          1.00
61          1.50
62          1.00
63          1.40
64          1.30
65          1.40
66          1.50
67          1.00
68          1.50
69          1.10
70          1.80
71          1.30
72          1.50
73          1.20
74          1.30
75          1.40
76          1.40
77          1.70
78          1.50
79          1.00
80          1.10
81          1.00
82          1.20
83          1.60
84          1.50
85          1.60
86          1.50
87          1.30
88          1.30
89          1.30
90          1.20
91          1.40
92          1.20
93          1.00
94          1.30
95          1.20
96          1.30
97          1.30
98          1.10
99          1.30
100         2.50
101         1.90
102         2.10
103         1.80
104         2.20
105         2.10
106         1.70
107         1.80
108         1.80
109         2.50
110         2.00
111         1.90
112         2.10
113         2.00
114         2.40
115         2.30
116         1.80
117         2.20
118         2.30
119         1.50
120         2.30
121         2.00
122         2.00
123         1.80
124         2.10
125         1.80
126         1.80
127         1.80
128         2.10
129         1.60
130         1.90
131         2.00
132         2.20
133         1.50
134         1.40
135         2.30
136         2.40
137         1.80
138         1.80
139         2.10
140         2.40
141         2.30
142         1.90
143         2.30
144         2.50
145         2.30
146         1.90
147         2.00
148         2.30
149         1.80
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Pastikan kolom numerik</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Terapkan KMeans dengan 3 cluster</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">clusters</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]])</span>

<span class="c1"># Urutkan cluster berdasarkan rata-rata sepal width</span>
<span class="n">cluster_centers</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
<span class="n">sorted_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">cluster_centers</span><span class="p">)</span>
<span class="n">cluster_map</span> <span class="o">=</span> <span class="p">{</span><span class="n">old</span><span class="p">:</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">65</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">old</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_indices</span><span class="p">)}</span>  <span class="c1"># A, B, C</span>

<span class="c1"># Ganti label cluster dengan huruf AC</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">cluster_map</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">clusters</span><span class="p">]</span>

<span class="c1"># Cek hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    PetalWidthCm
0              A
1              A
2              A
3              A
4              A
5              A
6              A
7              A
8              A
9              A
10             A
11             A
12             A
13             A
14             A
15             A
16             A
17             A
18             A
19             A
20             A
21             A
22             A
23             A
24             A
25             A
26             A
27             A
28             A
29             A
30             A
31             A
32             A
33             A
34             A
35             A
36             A
37             A
38             A
39             A
40             A
41             A
42             A
43             A
44             A
45             A
46             A
47             A
48             A
49             A
50             B
51             B
52             B
53             B
54             B
55             B
56             B
57             B
58             B
59             B
60             B
61             B
62             B
63             B
64             B
65             B
66             B
67             B
68             B
69             B
70             C
71             B
72             B
73             B
74             B
75             B
76             B
77             C
78             B
79             B
80             B
81             B
82             B
83             B
84             B
85             B
86             B
87             B
88             B
89             B
90             B
91             B
92             B
93             B
94             B
95             B
96             B
97             B
98             B
99             B
100            C
101            C
102            C
103            C
104            C
105            C
106            C
107            C
108            C
109            C
110            C
111            C
112            C
113            C
114            C
115            C
116            C
117            C
118            C
119            B
120            C
121            C
122            C
123            C
124            C
125            C
126            C
127            C
128            C
129            B
130            C
131            C
132            C
133            B
134            B
135            C
136            C
137            C
138            C
139            C
140            C
141            C
142            C
143            C
144            C
145            C
146            C
147            C
148            C
149            C
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="4">
<li><p>Gabungkan lagi semua kolom yang datanya sudah berubah menjadi kategorikal menjadi satu table</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>      id SepalLengthCm SepalWidthCm PetalLengthCm PetalWidthCm  \
0      1             A            C             A            A   
1      2             A            B             A            A   
2      3             A            B             A            A   
3      4             A            B             A            A   
4      5             A            C             A            A   
5      6             B            C             A            A   
6      7             A            C             A            A   
7      8             A            C             A            A   
8      9             A            B             A            A   
9     10             A            B             A            A   
10    11             B            C             A            A   
11    12             A            C             A            A   
12    13             A            B             A            A   
13    14             A            B             A            A   
14    15             B            C             A            A   
15    16             B            C             A            A   
16    17             B            C             A            A   
17    18             A            C             A            A   
18    19             B            C             A            A   
19    20             A            C             A            A   
20    21             B            C             A            A   
21    22             A            C             A            A   
22    23             A            C             A            A   
23    24             A            C             A            A   
24    25             A            C             A            A   
25    26             A            B             A            A   
26    27             A            C             A            A   
27    28             A            C             A            A   
28    29             A            C             A            A   
29    30             A            B             A            A   
30    31             A            B             A            A   
31    32             B            C             A            A   
32    33             A            C             A            A   
33    34             B            C             A            A   
34    35             A            B             A            A   
35    36             A            B             A            A   
36    37             B            C             A            A   
37    38             A            B             A            A   
38    39             A            B             A            A   
39    40             A            C             A            A   
40    41             A            C             A            A   
41    42             A            A             A            A   
42    43             A            B             A            A   
43    44             A            C             A            A   
44    45             A            C             A            A   
45    46             A            B             A            A   
46    47             A            C             A            A   
47    48             A            B             A            A   
48    49             B            C             A            A   
49    50             A            C             A            A   
50    51             D            B             C            B   
51    52             C            B             C            B   
52    53             D            B             C            B   
53    54             B            A             B            B   
54    55             C            B             C            B   
55    56             B            B             C            B   
56    57             C            C             C            B   
57    58             A            A             B            B   
58    59             C            B             C            B   
59    60             A            A             B            B   
60    61             A            A             B            B   
61    62             B            B             B            B   
62    63             C            A             B            B   
63    64             C            B             C            B   
64    65             B            B             B            B   
65    66             C            B             C            B   
66    67             B            B             C            B   
67    68             B            A             B            B   
68    69             C            A             C            B   
69    70             B            A             B            B   
70    71             B            B             C            C   
71    72             C            B             B            B   
72    73             C            A             C            B   
73    74             C            B             C            B   
74    75             C            B             B            B   
75    76             C            B             C            B   
76    77             D            B             C            B   
77    78             C            B             C            C   
78    79             C            B             C            B   
79    80             B            A             B            B   
80    81             B            A             B            B   
81    82             B            A             B            B   
82    83             B            A             B            B   
83    84             C            A             C            B   
84    85             B            B             C            B   
85    86             C            C             C            B   
86    87             C            B             C            B   
87    88             C            A             C            B   
88    89             B            B             B            B   
89    90             B            A             B            B   
90    91             B            A             C            B   
91    92             C            B             C            B   
92    93             B            A             B            B   
93    94             A            A             B            B   
94    95             B            A             B            B   
95    96             B            B             B            B   
96    97             B            B             B            B   
97    98             C            B             B            B   
98    99             A            A             B            B   
99   100             B            B             B            B   
100  101             C            C             D            C   
101  102             B            A             C            C   
102  103             D            B             D            C   
103  104             C            B             D            C   
104  105             C            B             D            C   
105  106             D            B             D            C   
106  107             A            A             C            C   
107  108             D            B             D            C   
108  109             C            A             D            C   
109  110             D            C             D            C   
110  111             C            B             C            C   
111  112             C            A             C            C   
112  113             D            B             D            C   
113  114             B            A             C            C   
114  115             B            B             C            C   
115  116             C            B             C            C   
116  117             C            B             D            C   
117  118             D            C             D            C   
118  119             D            A             D            C   
119  120             C            A             C            B   
120  121             D            B             D            C   
121  122             B            B             C            C   
122  123             D            B             D            C   
123  124             C            A             C            C   
124  125             C            C             D            C   
125  126             D            B             D            C   
126  127             C            B             C            C   
127  128             C            B             C            C   
128  129             C            B             D            C   
129  130             D            B             D            B   
130  131             D            B             D            C   
131  132             D            C             D            C   
132  133             C            B             D            C   
133  134             C            B             C            B   
134  135             C            A             D            B   
135  136             D            B             D            C   
136  137             C            C             D            C   
137  138             C            B             D            C   
138  139             C            B             C            C   
139  140             D            B             D            C   
140  141             C            B             D            C   
141  142             D            B             C            C   
142  143             B            A             C            C   
143  144             D            B             D            C   
144  145             C            C             D            C   
145  146             C            B             C            C   
146  147             C            A             C            C   
147  148             C            B             C            C   
148  149             C            C             D            C   
149  150             B            B             C            C   

             species  
0        Iris-setosa  
1        Iris-setosa  
2        Iris-setosa  
3        Iris-setosa  
4        Iris-setosa  
5        Iris-setosa  
6        Iris-setosa  
7        Iris-setosa  
8        Iris-setosa  
9        Iris-setosa  
10       Iris-setosa  
11       Iris-setosa  
12       Iris-setosa  
13       Iris-setosa  
14       Iris-setosa  
15       Iris-setosa  
16       Iris-setosa  
17       Iris-setosa  
18       Iris-setosa  
19       Iris-setosa  
20       Iris-setosa  
21       Iris-setosa  
22       Iris-setosa  
23       Iris-setosa  
24       Iris-setosa  
25       Iris-setosa  
26       Iris-setosa  
27       Iris-setosa  
28       Iris-setosa  
29       Iris-setosa  
30       Iris-setosa  
31       Iris-setosa  
32       Iris-setosa  
33       Iris-setosa  
34       Iris-setosa  
35       Iris-setosa  
36       Iris-setosa  
37       Iris-setosa  
38       Iris-setosa  
39       Iris-setosa  
40       Iris-setosa  
41       Iris-setosa  
42       Iris-setosa  
43       Iris-setosa  
44       Iris-setosa  
45       Iris-setosa  
46       Iris-setosa  
47       Iris-setosa  
48       Iris-setosa  
49       Iris-setosa  
50   Iris-versicolor  
51   Iris-versicolor  
52   Iris-versicolor  
53   Iris-versicolor  
54   Iris-versicolor  
55   Iris-versicolor  
56   Iris-versicolor  
57   Iris-versicolor  
58   Iris-versicolor  
59   Iris-versicolor  
60   Iris-versicolor  
61   Iris-versicolor  
62   Iris-versicolor  
63   Iris-versicolor  
64   Iris-versicolor  
65   Iris-versicolor  
66   Iris-versicolor  
67   Iris-versicolor  
68   Iris-versicolor  
69   Iris-versicolor  
70   Iris-versicolor  
71   Iris-versicolor  
72   Iris-versicolor  
73   Iris-versicolor  
74   Iris-versicolor  
75   Iris-versicolor  
76   Iris-versicolor  
77   Iris-versicolor  
78   Iris-versicolor  
79   Iris-versicolor  
80   Iris-versicolor  
81   Iris-versicolor  
82   Iris-versicolor  
83   Iris-versicolor  
84   Iris-versicolor  
85   Iris-versicolor  
86   Iris-versicolor  
87   Iris-versicolor  
88   Iris-versicolor  
89   Iris-versicolor  
90   Iris-versicolor  
91   Iris-versicolor  
92   Iris-versicolor  
93   Iris-versicolor  
94   Iris-versicolor  
95   Iris-versicolor  
96   Iris-versicolor  
97   Iris-versicolor  
98   Iris-versicolor  
99   Iris-versicolor  
100   Iris-virginica  
101   Iris-virginica  
102   Iris-virginica  
103   Iris-virginica  
104   Iris-virginica  
105   Iris-virginica  
106   Iris-virginica  
107   Iris-virginica  
108   Iris-virginica  
109   Iris-virginica  
110   Iris-virginica  
111   Iris-virginica  
112   Iris-virginica  
113   Iris-virginica  
114   Iris-virginica  
115   Iris-virginica  
116   Iris-virginica  
117   Iris-virginica  
118   Iris-virginica  
119   Iris-virginica  
120   Iris-virginica  
121   Iris-virginica  
122   Iris-virginica  
123   Iris-virginica  
124   Iris-virginica  
125   Iris-virginica  
126   Iris-virginica  
127   Iris-virginica  
128   Iris-virginica  
129   Iris-virginica  
130   Iris-virginica  
131   Iris-virginica  
132   Iris-virginica  
133   Iris-virginica  
134   Iris-virginica  
135   Iris-virginica  
136   Iris-virginica  
137   Iris-virginica  
138   Iris-virginica  
139   Iris-virginica  
140   Iris-virginica  
141   Iris-virginica  
142   Iris-virginica  
143   Iris-virginica  
144   Iris-virginica  
145   Iris-virginica  
146   Iris-virginica  
147   Iris-virginica  
148   Iris-virginica  
149   Iris-virginica  
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="5">
<li><p>klasifikasi data yang sudah diubah menjadi kategorikal menggunakan model Naive Bayes.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">CategoricalNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>

<span class="c1"># Ubah kategori huruf ke angka karena CategoricalNB butuh numerik</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>  <span class="c1"># label juga ubah ke angka</span>

<span class="c1"># Split data latih dan uji</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat model dan latih</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">CategoricalNB</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi dan evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi: </span><span class="si">{</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span><span class="w"> </span><span class="n">y_pred</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Laporan klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 100.00%
Laporan klasifikasi:
               precision    recall  f1-score   support

           0       1.00      1.00      1.00        10
           1       1.00      1.00      1.00         9
           2       1.00      1.00      1.00        11

    accuracy                           1.00        30
   macro avg       1.00      1.00      1.00        30
weighted avg       1.00      1.00      1.00        30
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="6">
<li><p>klasifikasi data numerik menggunakan model Naive Bayes.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>

<span class="c1"># 1. Ambil fitur numerik dan label</span>
<span class="n">fitur</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]</span>
<span class="n">X_ori</span> <span class="o">=</span> <span class="n">df_asli</span><span class="p">[</span><span class="n">fitur</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>  <span class="c1"># pastikan numerik</span>
<span class="n">y_ori</span> <span class="o">=</span> <span class="n">df_asli</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span>

<span class="c1"># 2. Encode label jadi angka</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">y_encoded</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_ori</span><span class="p">)</span>

<span class="c1"># 3. Split data latih dan uji (30% uji)</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_ori</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># 4. Latih model Naive Bayes</span>
<span class="n">model_nb</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">model_nb</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># 5. Prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model_nb</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># 6. Evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi: </span><span class="si">{</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span><span class="w"> </span><span class="n">y_pred</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Laporan klasifikasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">target_names</span><span class="o">=</span><span class="n">le</span><span class="o">.</span><span class="n">classes_</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 97.78%
Laporan klasifikasi:
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       1.00      0.92      0.96        13
 Iris-virginica       0.93      1.00      0.96        13

       accuracy                           0.98        45
      macro avg       0.98      0.97      0.97        45
   weighted avg       0.98      0.98      0.98        45
</pre></div>
</div>
</div>
</div>
<ol class="arabic simple" start="7">
<li><p>Decision tree untuk data kategorikal</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">DecisionTreeClassifier</span><span class="p">,</span> <span class="n">plot_tree</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Encode fitur dan label</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">X_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SepalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;SepalWidthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalLengthCm&#39;</span><span class="p">,</span> <span class="s1">&#39;PetalWidthCm&#39;</span><span class="p">]</span>

<span class="c1"># Mengkonversi huruf (A, B, C, D) menjadi nomor</span>
<span class="n">X</span><span class="p">[</span><span class="n">X_features</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">X_features</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>

<span class="c1"># Mengkonversi label species juga</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span>

<span class="c1"># Menghapus kolom yang bukan fitur</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">X_features</span><span class="p">]</span>

<span class="c1"># Split data</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Model Decision Tree</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">dt_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi :&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Laporan klasifikasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># Visualisasi Decision Tree</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">dt_model</span><span class="p">,</span> <span class="n">feature_names</span><span class="o">=</span><span class="n">X_features</span><span class="p">,</span> <span class="n">class_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;setosa&#39;</span><span class="p">,</span> <span class="s1">&#39;versicolor&#39;</span><span class="p">,</span> <span class="s1">&#39;virginica&#39;</span><span class="p">],</span> <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Visualisasi Decision Tree (Diskritisasi)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi : 100.0 %
Laporan klasifikasi:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00        10
           1       1.00      1.00      1.00         9
           2       1.00      1.00      1.00        11

    accuracy                           1.00        30
   macro avg       1.00      1.00      1.00        30
weighted avg       1.00      1.00      1.00        30
</pre></div>
</div>
<img alt="_images/7620971883485896c08db4b95b0335118ca8e29916ca403c5cae223952f0b950.png" src="_images/7620971883485896c08db4b95b0335118ca8e29916ca403c5cae223952f0b950.png" />
</div>
</div>
<ol class="arabic simple" start="8">
<li><p>Decision tree untuk data numerik</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">DecisionTreeClassifier</span><span class="p">,</span> <span class="n">plot_tree</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">accuracy_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Asumsikan df_asli sudah ada dan kolom &#39;species&#39; adalah label</span>
<span class="c1"># Menghapus kolom &#39;id&#39; yang bukan fitur dan label</span>
<span class="n">X_ori</span> <span class="o">=</span> <span class="n">df_asli</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">])</span>
<span class="n">y_ori</span> <span class="o">=</span> <span class="n">df_asli</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">]</span>

<span class="c1"># Mengkonversi tipe data fitur menjadi float</span>
<span class="n">X_ori</span> <span class="o">=</span> <span class="n">X_ori</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># Split data menjadi training dan testing (20% testing)</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X_ori</span><span class="p">,</span> <span class="n">y_ori</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Inisialisasi dan melatih model Decision Tree</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Melakukan prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">dt_model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Menghitung akurasi dan menampilkannya sebagai persen</span>
<span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>  <span class="c1"># tampil 2 decimal</span>

<span class="c1"># Mengirim laporan klasifikasi yang lebih rinci</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Laporan klasifikasi:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># Visualisasi Decision Tree</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span>
    <span class="n">dt_model</span><span class="p">,</span>
    <span class="n">feature_names</span><span class="o">=</span><span class="n">X_ori</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
    <span class="n">class_names</span><span class="o">=</span><span class="n">dt_model</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span>
    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Decision Tree - Data Asli (Numerik)&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 100.00%
Laporan klasifikasi:
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       1.00      1.00      1.00         9
 Iris-virginica       1.00      1.00      1.00        11

       accuracy                           1.00        30
      macro avg       1.00      1.00      1.00        30
   weighted avg       1.00      1.00      1.00        30
</pre></div>
</div>
<img alt="_images/0caf5ff2c66ad1f9b7ddeb7a520624c7f8f24ae86afe3aedac672ecc08d5db6a.png" src="_images/0caf5ff2c66ad1f9b7ddeb7a520624c7f8f24ae86afe3aedac672ecc08d5db6a.png" />
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Bab5.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">K-MEANS CLUSTERING</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">BINING(DISCRETIZER)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-bining-dicretizer">Apa Itu Bining Dicretizer</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#jenis-bining">Jenis Bining</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Muhammad Abid Ayyasy
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
       Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>